(()=>{var Ap=Object.create;var Ic=Object.defineProperty;var Sp=Object.getOwnPropertyDescriptor;var Cp=Object.getOwnPropertyNames;var Lp=Object.getPrototypeOf,Op=Object.prototype.hasOwnProperty;var Dp=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var xp=(i,e,s,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let l of Cp(e))!Op.call(i,l)&&l!==s&&Ic(i,l,{get:()=>e[l],enumerable:!(n=Sp(e,l))||n.enumerable});return i};var Il=(i,e,s)=>(s=i!=null?Ap(Lp(i)):{},xp(e||!i||!i.__esModule?Ic(s,"default",{value:i,enumerable:!0}):s,i));var go=Dp((Vl,Hl)=>{(function(i,e){typeof Vl=="object"&&typeof Hl<"u"?Hl.exports=e():typeof define=="function"&&define.amd?define(e):(i=typeof globalThis<"u"?globalThis:i||self,i.bootstrap=e())})(Vl,function(){"use strict";let i=new Map,e={set(o,t,r){i.has(o)||i.set(o,new Map);let u=i.get(o);if(!u.has(t)&&u.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(u.keys())[0]}.`);return}u.set(t,r)},get(o,t){return i.has(o)&&i.get(o).get(t)||null},remove(o,t){if(!i.has(o))return;let r=i.get(o);r.delete(t),r.size===0&&i.delete(o)}},s=1e6,n=1e3,l="transitionend",f=o=>(o&&window.CSS&&window.CSS.escape&&(o=o.replace(/#([^\s"#']+)/g,(t,r)=>`#${CSS.escape(r)}`)),o),h=o=>o==null?`${o}`:Object.prototype.toString.call(o).match(/\s([a-z]+)/i)[1].toLowerCase(),_=o=>{do o+=Math.floor(Math.random()*s);while(document.getElementById(o));return o},b=o=>{if(!o)return 0;let{transitionDuration:t,transitionDelay:r}=window.getComputedStyle(o),u=Number.parseFloat(t),m=Number.parseFloat(r);return!u&&!m?0:(t=t.split(",")[0],r=r.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(r))*n)},v=o=>{o.dispatchEvent(new Event(l))},S=o=>!o||typeof o!="object"?!1:(typeof o.jquery<"u"&&(o=o[0]),typeof o.nodeType<"u"),y=o=>S(o)?o.jquery?o[0]:o:typeof o=="string"&&o.length>0?document.querySelector(f(o)):null,A=o=>{if(!S(o)||o.getClientRects().length===0)return!1;let t=getComputedStyle(o).getPropertyValue("visibility")==="visible",r=o.closest("details:not([open])");if(!r)return t;if(r!==o){let u=o.closest("summary");if(u&&u.parentNode!==r||u===null)return!1}return t},P=o=>!o||o.nodeType!==Node.ELEMENT_NODE||o.classList.contains("disabled")?!0:typeof o.disabled<"u"?o.disabled:o.hasAttribute("disabled")&&o.getAttribute("disabled")!=="false",H=o=>{if(!document.documentElement.attachShadow)return null;if(typeof o.getRootNode=="function"){let t=o.getRootNode();return t instanceof ShadowRoot?t:null}return o instanceof ShadowRoot?o:o.parentNode?H(o.parentNode):null},K=()=>{},q=o=>{o.offsetHeight},et=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,k=[],Q=o=>{document.readyState==="loading"?(k.length||document.addEventListener("DOMContentLoaded",()=>{for(let t of k)t()}),k.push(o)):o()},N=()=>document.documentElement.dir==="rtl",Z=o=>{Q(()=>{let t=et();if(t){let r=o.NAME,u=t.fn[r];t.fn[r]=o.jQueryInterface,t.fn[r].Constructor=o,t.fn[r].noConflict=()=>(t.fn[r]=u,o.jQueryInterface)}})},$=(o,t=[],r=o)=>typeof o=="function"?o(...t):r,ht=(o,t,r=!0)=>{if(!r){$(o);return}let m=b(t)+5,E=!1,T=({target:C})=>{C===t&&(E=!0,t.removeEventListener(l,T),$(o))};t.addEventListener(l,T),setTimeout(()=>{E||v(t)},m)},it=(o,t,r,u)=>{let m=o.length,E=o.indexOf(t);return E===-1?!r&&u?o[m-1]:o[0]:(E+=r?1:-1,u&&(E=(E+m)%m),o[Math.max(0,Math.min(E,m-1))])},ft=/[^.]*(?=\..*)\.|.*/,F=/\..*/,X=/::\d+$/,st={},G=1,U={mouseenter:"mouseover",mouseleave:"mouseout"},at=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function yt(o,t){return t&&`${t}::${G++}`||o.uidEvent||G++}function J(o){let t=yt(o);return o.uidEvent=t,st[t]=st[t]||{},st[t]}function Me(o,t){return function r(u){return xt(u,{delegateTarget:o}),r.oneOff&&L.off(o,u.type,t),t.apply(o,[u])}}function Ft(o,t,r){return function u(m){let E=o.querySelectorAll(t);for(let{target:T}=m;T&&T!==this;T=T.parentNode)for(let C of E)if(C===T)return xt(m,{delegateTarget:T}),u.oneOff&&L.off(o,m.type,t,r),r.apply(T,[m])}}function ot(o,t,r=null){return Object.values(o).find(u=>u.callable===t&&u.delegationSelector===r)}function mt(o,t,r){let u=typeof t=="string",m=u?r:t||r,E=Kt(o);return at.has(E)||(E=o),[u,m,E]}function W(o,t,r,u,m){if(typeof t!="string"||!o)return;let[E,T,C]=mt(t,r,u);t in U&&(T=(Bt=>function(_t){if(!_t.relatedTarget||_t.relatedTarget!==_t.delegateTarget&&!_t.delegateTarget.contains(_t.relatedTarget))return Bt.call(this,_t)})(T));let x=J(o),z=x[C]||(x[C]={}),I=ot(z,T,E?r:null);if(I){I.oneOff=I.oneOff&&m;return}let dt=yt(T,t.replace(ft,"")),gt=E?Ft(o,r,T):Me(o,T);gt.delegationSelector=E?r:null,gt.callable=T,gt.oneOff=m,gt.uidEvent=dt,z[dt]=gt,o.addEventListener(C,gt,E)}function Ot(o,t,r,u,m){let E=ot(t[r],u,m);E&&(o.removeEventListener(r,E,!!m),delete t[r][E.uidEvent])}function Jt(o,t,r,u){let m=t[r]||{};for(let[E,T]of Object.entries(m))E.includes(u)&&Ot(o,t,r,T.callable,T.delegationSelector)}function Kt(o){return o=o.replace(F,""),U[o]||o}let L={on(o,t,r,u){W(o,t,r,u,!1)},one(o,t,r,u){W(o,t,r,u,!0)},off(o,t,r,u){if(typeof t!="string"||!o)return;let[m,E,T]=mt(t,r,u),C=T!==t,x=J(o),z=x[T]||{},I=t.startsWith(".");if(typeof E<"u"){if(!Object.keys(z).length)return;Ot(o,x,T,E,m?r:null);return}if(I)for(let dt of Object.keys(x))Jt(o,x,dt,t.slice(1));for(let[dt,gt]of Object.entries(z)){let ct=dt.replace(X,"");(!C||t.includes(ct))&&Ot(o,x,T,gt.callable,gt.delegationSelector)}},trigger(o,t,r){if(typeof t!="string"||!o)return null;let u=et(),m=Kt(t),E=t!==m,T=null,C=!0,x=!0,z=!1;E&&u&&(T=u.Event(t,r),u(o).trigger(T),C=!T.isPropagationStopped(),x=!T.isImmediatePropagationStopped(),z=T.isDefaultPrevented());let I=xt(new Event(t,{bubbles:C,cancelable:!0}),r);return z&&I.preventDefault(),x&&o.dispatchEvent(I),I.defaultPrevented&&T&&T.preventDefault(),I}};function xt(o,t={}){for(let[r,u]of Object.entries(t))try{o[r]=u}catch{Object.defineProperty(o,r,{configurable:!0,get(){return u}})}return o}function Pe(o){if(o==="true")return!0;if(o==="false")return!1;if(o===Number(o).toString())return Number(o);if(o===""||o==="null")return null;if(typeof o!="string")return o;try{return JSON.parse(decodeURIComponent(o))}catch{return o}}function de(o){return o.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}let Ct={setDataAttribute(o,t,r){o.setAttribute(`data-bs-${de(t)}`,r)},removeDataAttribute(o,t){o.removeAttribute(`data-bs-${de(t)}`)},getDataAttributes(o){if(!o)return{};let t={},r=Object.keys(o.dataset).filter(u=>u.startsWith("bs")&&!u.startsWith("bsConfig"));for(let u of r){let m=u.replace(/^bs/,"");m=m.charAt(0).toLowerCase()+m.slice(1,m.length),t[m]=Pe(o.dataset[u])}return t},getDataAttribute(o,t){return Pe(o.getAttribute(`data-bs-${de(t)}`))}};class Ce{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,r){let u=S(r)?Ct.getDataAttribute(r,"config"):{};return{...this.constructor.Default,...typeof u=="object"?u:{},...S(r)?Ct.getDataAttributes(r):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,r=this.constructor.DefaultType){for(let[u,m]of Object.entries(r)){let E=t[u],T=S(E)?"element":h(E);if(!new RegExp(m).test(T))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${u}" provided type "${T}" but expected type "${m}".`)}}}let ze="5.3.3";class ce extends Ce{constructor(t,r){super(),t=y(t),t&&(this._element=t,this._config=this._getConfig(r),e.set(this._element,this.constructor.DATA_KEY,this))}dispose(){e.remove(this._element,this.constructor.DATA_KEY),L.off(this._element,this.constructor.EVENT_KEY);for(let t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,r,u=!0){ht(t,r,u)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return e.get(y(t),this.DATA_KEY)}static getOrCreateInstance(t,r={}){return this.getInstance(t)||new this(t,typeof r=="object"?r:null)}static get VERSION(){return ze}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}let $s=o=>{let t=o.getAttribute("data-bs-target");if(!t||t==="#"){let r=o.getAttribute("href");if(!r||!r.includes("#")&&!r.startsWith("."))return null;r.includes("#")&&!r.startsWith("#")&&(r=`#${r.split("#")[1]}`),t=r&&r!=="#"?r.trim():null}return t?t.split(",").map(r=>f(r)).join(","):null},Y={find(o,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,o))},findOne(o,t=document.documentElement){return Element.prototype.querySelector.call(t,o)},children(o,t){return[].concat(...o.children).filter(r=>r.matches(t))},parents(o,t){let r=[],u=o.parentNode.closest(t);for(;u;)r.push(u),u=u.parentNode.closest(t);return r},prev(o,t){let r=o.previousElementSibling;for(;r;){if(r.matches(t))return[r];r=r.previousElementSibling}return[]},next(o,t){let r=o.nextElementSibling;for(;r;){if(r.matches(t))return[r];r=r.nextElementSibling}return[]},focusableChildren(o){let t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(r=>`${r}:not([tabindex^="-"])`).join(",");return this.find(t,o).filter(r=>!P(r)&&A(r))},getSelectorFromElement(o){let t=$s(o);return t&&Y.findOne(t)?t:null},getElementFromSelector(o){let t=$s(o);return t?Y.findOne(t):null},getMultipleElementsFromSelector(o){let t=$s(o);return t?Y.find(t):[]}},Rs=(o,t="hide")=>{let r=`click.dismiss${o.EVENT_KEY}`,u=o.NAME;L.on(document,r,`[data-bs-dismiss="${u}"]`,function(m){if(["A","AREA"].includes(this.tagName)&&m.preventDefault(),P(this))return;let E=Y.getElementFromSelector(this)||this.closest(`.${u}`);o.getOrCreateInstance(E)[t]()})},Bn="alert",Ke=".bs.alert",Vs=`close${Ke}`,Hs=`closed${Ke}`,Ts="fade",ut="show";class nt extends ce{static get NAME(){return Bn}close(){if(L.trigger(this._element,Vs).defaultPrevented)return;this._element.classList.remove(ut);let r=this._element.classList.contains(Ts);this._queueCallback(()=>this._destroyElement(),this._element,r)}_destroyElement(){this._element.remove(),L.trigger(this._element,Hs),this.dispose()}static jQueryInterface(t){return this.each(function(){let r=nt.getOrCreateInstance(this);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}Rs(nt,"close"),Z(nt);let lt="button",Fs=".bs.button",bn=".data-api",Bs="active",ss='[data-bs-toggle="button"]',ns=`click${Fs}${bn}`;class pe extends ce{static get NAME(){return lt}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Bs))}static jQueryInterface(t){return this.each(function(){let r=pe.getOrCreateInstance(this);t==="toggle"&&r[t]()})}}L.on(document,ns,ss,o=>{o.preventDefault();let t=o.target.closest(ss);pe.getOrCreateInstance(t).toggle()}),Z(pe);let Ye="swipe",ne=".bs.swipe",Zs=`touchstart${ne}`,vi=`touchmove${ne}`,En=`touchend${ne}`,tn=`pointerdown${ne}`,bi=`pointerup${ne}`,Ge="touch",Ji="pen",Hr="pointer-event",el=40,sl={endCallback:null,leftCallback:null,rightCallback:null},nl={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Ei extends Ce{constructor(t,r){super(),this._element=t,!(!t||!Ei.isSupported())&&(this._config=this._getConfig(r),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return sl}static get DefaultType(){return nl}static get NAME(){return Ye}dispose(){L.off(this._element,ne)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),$(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){let t=Math.abs(this._deltaX);if(t<=el)return;let r=t/this._deltaX;this._deltaX=0,r&&$(r>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(L.on(this._element,tn,t=>this._start(t)),L.on(this._element,bi,t=>this._end(t)),this._element.classList.add(Hr)):(L.on(this._element,Zs,t=>this._start(t)),L.on(this._element,vi,t=>this._move(t)),L.on(this._element,En,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Ji||t.pointerType===Ge)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}let il="carousel",Wt=".bs.carousel",As=".data-api",wn="ArrowLeft",Tn="ArrowRight",qe=500,ms="next",is="prev",en="left",Wn="right",rl=`slide${Wt}`,Xi=`slid${Wt}`,sn=`keydown${Wt}`,ol=`mouseenter${Wt}`,jn=`mouseleave${Wt}`,Fr=`dragstart${Wt}`,Ws=`load${Wt}${As}`,me=`click${Wt}${As}`,ie="carousel",Yt="active",yi="slide",rs="carousel-item-end",Un="carousel-item-start",Br="carousel-item-next",Zi="carousel-item-prev",zn=".active",nn=".carousel-item",tr=zn+nn,er=".carousel-item img",sr=".carousel-indicators",nr="[data-bs-slide], [data-bs-slide-to]",ir='[data-bs-ride="carousel"]',rr={[wn]:Wn,[Tn]:en},or={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ss={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class rn extends ce{constructor(t,r){super(t,r),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Y.findOne(sr,this._element),this._addEventListeners(),this._config.ride===ie&&this.cycle()}static get Default(){return or}static get DefaultType(){return Ss}static get NAME(){return il}next(){this._slide(ms)}nextWhenVisible(){!document.hidden&&A(this._element)&&this.next()}prev(){this._slide(is)}pause(){this._isSliding&&v(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){L.one(this._element,Xi,()=>this.cycle());return}this.cycle()}}to(t){let r=this._getItems();if(t>r.length-1||t<0)return;if(this._isSliding){L.one(this._element,Xi,()=>this.to(t));return}let u=this._getItemIndex(this._getActive());if(u===t)return;let m=t>u?ms:is;this._slide(m,r[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&L.on(this._element,sn,t=>this._keydown(t)),this._config.pause==="hover"&&(L.on(this._element,ol,()=>this.pause()),L.on(this._element,jn,()=>this._maybeEnableCycle())),this._config.touch&&Ei.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(let u of Y.find(er,this._element))L.on(u,Fr,m=>m.preventDefault());let r={leftCallback:()=>this._slide(this._directionToOrder(en)),rightCallback:()=>this._slide(this._directionToOrder(Wn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),qe+this._config.interval))}};this._swipeHelper=new Ei(this._element,r)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;let r=rr[t.key];r&&(t.preventDefault(),this._slide(this._directionToOrder(r)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;let r=Y.findOne(zn,this._indicatorsElement);r.classList.remove(Yt),r.removeAttribute("aria-current");let u=Y.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);u&&(u.classList.add(Yt),u.setAttribute("aria-current","true"))}_updateInterval(){let t=this._activeElement||this._getActive();if(!t)return;let r=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=r||this._config.defaultInterval}_slide(t,r=null){if(this._isSliding)return;let u=this._getActive(),m=t===ms,E=r||it(this._getItems(),u,m,this._config.wrap);if(E===u)return;let T=this._getItemIndex(E),C=ct=>L.trigger(this._element,ct,{relatedTarget:E,direction:this._orderToDirection(t),from:this._getItemIndex(u),to:T});if(C(rl).defaultPrevented||!u||!E)return;let z=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(T),this._activeElement=E;let I=m?Un:rs,dt=m?Br:Zi;E.classList.add(dt),q(E),u.classList.add(I),E.classList.add(I);let gt=()=>{E.classList.remove(I,dt),E.classList.add(Yt),u.classList.remove(Yt,dt,I),this._isSliding=!1,C(Xi)};this._queueCallback(gt,u,this._isAnimated()),z&&this.cycle()}_isAnimated(){return this._element.classList.contains(yi)}_getActive(){return Y.findOne(tr,this._element)}_getItems(){return Y.find(nn,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return N()?t===en?is:ms:t===en?ms:is}_orderToDirection(t){return N()?t===is?en:Wn:t===is?Wn:en}static jQueryInterface(t){return this.each(function(){let r=rn.getOrCreateInstance(this,t);if(typeof t=="number"){r.to(t);return}if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}L.on(document,me,nr,function(o){let t=Y.getElementFromSelector(this);if(!t||!t.classList.contains(ie))return;o.preventDefault();let r=rn.getOrCreateInstance(t),u=this.getAttribute("data-bs-slide-to");if(u){r.to(u),r._maybeEnableCycle();return}if(Ct.getDataAttribute(this,"slide")==="next"){r.next(),r._maybeEnableCycle();return}r.prev(),r._maybeEnableCycle()}),L.on(window,Ws,()=>{let o=Y.find(ir);for(let t of o)rn.getOrCreateInstance(t)}),Z(rn);let Wr="collapse",An=".bs.collapse",ll=".data-api",al=`show${An}`,cl=`shown${An}`,Ur=`hide${An}`,zr=`hidden${An}`,ul=`click${An}${ll}`,wi="show",js="collapse",on="collapsing",Ti="collapsed",fl=`:scope .${js} .${js}`,lr="collapse-horizontal",hl="width",dl="height",pl=".collapse.show, .collapse.collapsing",Us='[data-bs-toggle="collapse"]',Ai={parent:null,toggle:!0},ar={parent:"(null|element)",toggle:"boolean"};class gs extends ce{constructor(t,r){super(t,r),this._isTransitioning=!1,this._triggerArray=[];let u=Y.find(Us);for(let m of u){let E=Y.getSelectorFromElement(m),T=Y.find(E).filter(C=>C===this._element);E!==null&&T.length&&this._triggerArray.push(m)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ai}static get DefaultType(){return ar}static get NAME(){return Wr}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(pl).filter(C=>C!==this._element).map(C=>gs.getOrCreateInstance(C,{toggle:!1}))),t.length&&t[0]._isTransitioning||L.trigger(this._element,al).defaultPrevented)return;for(let C of t)C.hide();let u=this._getDimension();this._element.classList.remove(js),this._element.classList.add(on),this._element.style[u]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;let m=()=>{this._isTransitioning=!1,this._element.classList.remove(on),this._element.classList.add(js,wi),this._element.style[u]="",L.trigger(this._element,cl)},T=`scroll${u[0].toUpperCase()+u.slice(1)}`;this._queueCallback(m,this._element,!0),this._element.style[u]=`${this._element[T]}px`}hide(){if(this._isTransitioning||!this._isShown()||L.trigger(this._element,Ur).defaultPrevented)return;let r=this._getDimension();this._element.style[r]=`${this._element.getBoundingClientRect()[r]}px`,q(this._element),this._element.classList.add(on),this._element.classList.remove(js,wi);for(let m of this._triggerArray){let E=Y.getElementFromSelector(m);E&&!this._isShown(E)&&this._addAriaAndCollapsedClass([m],!1)}this._isTransitioning=!0;let u=()=>{this._isTransitioning=!1,this._element.classList.remove(on),this._element.classList.add(js),L.trigger(this._element,zr)};this._element.style[r]="",this._queueCallback(u,this._element,!0)}_isShown(t=this._element){return t.classList.contains(wi)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=y(t.parent),t}_getDimension(){return this._element.classList.contains(lr)?hl:dl}_initializeChildren(){if(!this._config.parent)return;let t=this._getFirstLevelChildren(Us);for(let r of t){let u=Y.getElementFromSelector(r);u&&this._addAriaAndCollapsedClass([r],this._isShown(u))}}_getFirstLevelChildren(t){let r=Y.find(fl,this._config.parent);return Y.find(t,this._config.parent).filter(u=>!r.includes(u))}_addAriaAndCollapsedClass(t,r){if(t.length)for(let u of t)u.classList.toggle(Ti,!r),u.setAttribute("aria-expanded",r)}static jQueryInterface(t){let r={};return typeof t=="string"&&/show|hide/.test(t)&&(r.toggle=!1),this.each(function(){let u=gs.getOrCreateInstance(this,r);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t]()}})}}L.on(document,ul,Us,function(o){(o.target.tagName==="A"||o.delegateTarget&&o.delegateTarget.tagName==="A")&&o.preventDefault();for(let t of Y.getMultipleElementsFromSelector(this))gs.getOrCreateInstance(t,{toggle:!1}).toggle()}),Z(gs);var Le="top",ue="bottom",Ve="right",ye="left",Sn="auto",zs=[Le,ue,Ve,ye],Cs="start",os="end",ln="clippingParents",Si="viewport",an="popper",cn="reference",Ks=zs.reduce(function(o,t){return o.concat([t+"-"+Cs,t+"-"+os])},[]),Ci=[].concat(zs,[Sn]).reduce(function(o,t){return o.concat([t,t+"-"+Cs,t+"-"+os])},[]),cr="beforeRead",Nt="read",$t="afterRead",Ls="beforeMain",fe="main",re="afterMain",oe="beforeWrite",Mt="write",un="afterWrite",Kn=[cr,Nt,$t,Ls,fe,re,oe,Mt,un];function _s(o){return o?(o.nodeName||"").toLowerCase():null}function Xt(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var t=o.ownerDocument;return t&&t.defaultView||window}return o}function we(o){var t=Xt(o).Element;return o instanceof t||o instanceof Element}function Qe(o){var t=Xt(o).HTMLElement;return o instanceof t||o instanceof HTMLElement}function ur(o){if(typeof ShadowRoot>"u")return!1;var t=Xt(o).ShadowRoot;return o instanceof t||o instanceof ShadowRoot}function ml(o){var t=o.state;Object.keys(t.elements).forEach(function(r){var u=t.styles[r]||{},m=t.attributes[r]||{},E=t.elements[r];!Qe(E)||!_s(E)||(Object.assign(E.style,u),Object.keys(m).forEach(function(T){var C=m[T];C===!1?E.removeAttribute(T):E.setAttribute(T,C===!0?"":C)}))})}function gl(o){var t=o.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(u){var m=t.elements[u],E=t.attributes[u]||{},T=Object.keys(t.styles.hasOwnProperty(u)?t.styles[u]:r[u]),C=T.reduce(function(x,z){return x[z]="",x},{});!Qe(m)||!_s(m)||(Object.assign(m.style,C),Object.keys(E).forEach(function(x){m.removeAttribute(x)}))})}}let ls={name:"applyStyles",enabled:!0,phase:"write",fn:ml,effect:gl,requires:["computeStyles"]};function ge(o){return o.split("-")[0]}var He=Math.max,Os=Math.min,Cn=Math.round;function Je(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function Kr(){return!/^((?!chrome|android).)*safari/i.test(Je())}function fn(o,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var u=o.getBoundingClientRect(),m=1,E=1;t&&Qe(o)&&(m=o.offsetWidth>0&&Cn(u.width)/o.offsetWidth||1,E=o.offsetHeight>0&&Cn(u.height)/o.offsetHeight||1);var T=we(o)?Xt(o):window,C=T.visualViewport,x=!Kr()&&r,z=(u.left+(x&&C?C.offsetLeft:0))/m,I=(u.top+(x&&C?C.offsetTop:0))/E,dt=u.width/m,gt=u.height/E;return{width:dt,height:gt,top:I,right:z+dt,bottom:I+gt,left:z,x:z,y:I}}function Li(o){var t=fn(o),r=o.offsetWidth,u=o.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-u)<=1&&(u=t.height),{x:o.offsetLeft,y:o.offsetTop,width:r,height:u}}function Ln(o,t){var r=t.getRootNode&&t.getRootNode();if(o.contains(t))return!0;if(r&&ur(r)){var u=t;do{if(u&&o.isSameNode(u))return!0;u=u.parentNode||u.host}while(u)}return!1}function Fe(o){return Xt(o).getComputedStyle(o)}function _l(o){return["table","td","th"].indexOf(_s(o))>=0}function vs(o){return((we(o)?o.ownerDocument:o.document)||window.document).documentElement}function Oi(o){return _s(o)==="html"?o:o.assignedSlot||o.parentNode||(ur(o)?o.host:null)||vs(o)}function Ys(o){return!Qe(o)||Fe(o).position==="fixed"?null:o.offsetParent}function Gs(o){var t=/firefox/i.test(Je()),r=/Trident/i.test(Je());if(r&&Qe(o)){var u=Fe(o);if(u.position==="fixed")return null}var m=Oi(o);for(ur(m)&&(m=m.host);Qe(m)&&["html","body"].indexOf(_s(m))<0;){var E=Fe(m);if(E.transform!=="none"||E.perspective!=="none"||E.contain==="paint"||["transform","perspective"].indexOf(E.willChange)!==-1||t&&E.willChange==="filter"||t&&E.filter&&E.filter!=="none")return m;m=m.parentNode}return null}function Ds(o){for(var t=Xt(o),r=Ys(o);r&&_l(r)&&Fe(r).position==="static";)r=Ys(r);return r&&(_s(r)==="html"||_s(r)==="body"&&Fe(r).position==="static")?t:r||Gs(o)||t}function Di(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function hn(o,t,r){return He(o,Os(t,r))}function fr(o,t,r){var u=hn(o,t,r);return u>r?r:u}function xi(){return{top:0,right:0,bottom:0,left:0}}function hr(o){return Object.assign({},xi(),o)}function dr(o,t){return t.reduce(function(r,u){return r[u]=o,r},{})}var Yr=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,hr(typeof t!="number"?t:dr(t,zs))};function Gr(o){var t,r=o.state,u=o.name,m=o.options,E=r.elements.arrow,T=r.modifiersData.popperOffsets,C=ge(r.placement),x=Di(C),z=[ye,Ve].indexOf(C)>=0,I=z?"height":"width";if(!(!E||!T)){var dt=Yr(m.padding,r),gt=Li(E),ct=x==="y"?Le:ye,Bt=x==="y"?ue:Ve,_t=r.rects.reference[I]+r.rects.reference[x]-T[x]-r.rects.popper[I],wt=T[x]-r.rects.reference[x],Ut=Ds(E),le=Ut?x==="y"?Ut.clientHeight||0:Ut.clientWidth||0:0,ae=_t/2-wt/2,bt=dt[ct],Pt=le-gt[I]-dt[Bt],kt=le/2-gt[I]/2+ae,se=hn(bt,kt,Pt),Ne=x;r.modifiersData[u]=(t={},t[Ne]=se,t.centerOffset=se-kt,t)}}function qr(o){var t=o.state,r=o.options,u=r.element,m=u===void 0?"[data-popper-arrow]":u;m!=null&&(typeof m=="string"&&(m=t.elements.popper.querySelector(m),!m)||Ln(t.elements.popper,m)&&(t.elements.arrow=m))}let pr={name:"arrow",enabled:!0,phase:"main",fn:Gr,effect:qr,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function On(o){return o.split("-")[1]}var Qr={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Jr(o,t){var r=o.x,u=o.y,m=t.devicePixelRatio||1;return{x:Cn(r*m)/m||0,y:Cn(u*m)/m||0}}function dn(o){var t,r=o.popper,u=o.popperRect,m=o.placement,E=o.variation,T=o.offsets,C=o.position,x=o.gpuAcceleration,z=o.adaptive,I=o.roundOffsets,dt=o.isFixed,gt=T.x,ct=gt===void 0?0:gt,Bt=T.y,_t=Bt===void 0?0:Bt,wt=typeof I=="function"?I({x:ct,y:_t}):{x:ct,y:_t};ct=wt.x,_t=wt.y;var Ut=T.hasOwnProperty("x"),le=T.hasOwnProperty("y"),ae=ye,bt=Le,Pt=window;if(z){var kt=Ds(r),se="clientHeight",Ne="clientWidth";if(kt===Xt(r)&&(kt=vs(r),Fe(kt).position!=="static"&&C==="absolute"&&(se="scrollHeight",Ne="scrollWidth")),kt=kt,m===Le||(m===ye||m===Ve)&&E===os){bt=ue;var Ae=dt&&kt===Pt&&Pt.visualViewport?Pt.visualViewport.height:kt[se];_t-=Ae-u.height,_t*=x?1:-1}if(m===ye||(m===Le||m===ue)&&E===os){ae=Ve;var _e=dt&&kt===Pt&&Pt.visualViewport?Pt.visualViewport.width:kt[Ne];ct-=_e-u.width,ct*=x?1:-1}}var $e=Object.assign({position:C},z&&Qr),Ns=I===!0?Jr({x:ct,y:_t},Xt(r)):{x:ct,y:_t};if(ct=Ns.x,_t=Ns.y,x){var We;return Object.assign({},$e,(We={},We[bt]=le?"0":"",We[ae]=Ut?"0":"",We.transform=(Pt.devicePixelRatio||1)<=1?"translate("+ct+"px, "+_t+"px)":"translate3d("+ct+"px, "+_t+"px, 0)",We))}return Object.assign({},$e,(t={},t[bt]=le?_t+"px":"",t[ae]=Ut?ct+"px":"",t.transform="",t))}function Ni(o){var t=o.state,r=o.options,u=r.gpuAcceleration,m=u===void 0?!0:u,E=r.adaptive,T=E===void 0?!0:E,C=r.roundOffsets,x=C===void 0?!0:C,z={placement:ge(t.placement),variation:On(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:m,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,dn(Object.assign({},z,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:T,roundOffsets:x})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,dn(Object.assign({},z,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:x})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}let Zt={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Ni,data:{}};var Yn={passive:!0};function te(o){var t=o.state,r=o.instance,u=o.options,m=u.scroll,E=m===void 0?!0:m,T=u.resize,C=T===void 0?!0:T,x=Xt(t.elements.popper),z=[].concat(t.scrollParents.reference,t.scrollParents.popper);return E&&z.forEach(function(I){I.addEventListener("scroll",r.update,Yn)}),C&&x.addEventListener("resize",r.update,Yn),function(){E&&z.forEach(function(I){I.removeEventListener("scroll",r.update,Yn)}),C&&x.removeEventListener("resize",r.update,Yn)}}let Mi={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:te,data:{}};var mr={left:"right",right:"left",bottom:"top",top:"bottom"};function qs(o){return o.replace(/left|right|bottom|top/g,function(t){return mr[t]})}var vl={start:"end",end:"start"};function Xr(o){return o.replace(/start|end/g,function(t){return vl[t]})}function Gn(o){var t=Xt(o),r=t.pageXOffset,u=t.pageYOffset;return{scrollLeft:r,scrollTop:u}}function a(o){return fn(vs(o)).left+Gn(o).scrollLeft}function c(o,t){var r=Xt(o),u=vs(o),m=r.visualViewport,E=u.clientWidth,T=u.clientHeight,C=0,x=0;if(m){E=m.width,T=m.height;var z=Kr();(z||!z&&t==="fixed")&&(C=m.offsetLeft,x=m.offsetTop)}return{width:E,height:T,x:C+a(o),y:x}}function d(o){var t,r=vs(o),u=Gn(o),m=(t=o.ownerDocument)==null?void 0:t.body,E=He(r.scrollWidth,r.clientWidth,m?m.scrollWidth:0,m?m.clientWidth:0),T=He(r.scrollHeight,r.clientHeight,m?m.scrollHeight:0,m?m.clientHeight:0),C=-u.scrollLeft+a(o),x=-u.scrollTop;return Fe(m||r).direction==="rtl"&&(C+=He(r.clientWidth,m?m.clientWidth:0)-E),{width:E,height:T,x:C,y:x}}function p(o){var t=Fe(o),r=t.overflow,u=t.overflowX,m=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+m+u)}function g(o){return["html","body","#document"].indexOf(_s(o))>=0?o.ownerDocument.body:Qe(o)&&p(o)?o:g(Oi(o))}function w(o,t){var r;t===void 0&&(t=[]);var u=g(o),m=u===((r=o.ownerDocument)==null?void 0:r.body),E=Xt(u),T=m?[E].concat(E.visualViewport||[],p(u)?u:[]):u,C=t.concat(T);return m?C:C.concat(w(Oi(T)))}function O(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function D(o,t){var r=fn(o,!1,t==="fixed");return r.top=r.top+o.clientTop,r.left=r.left+o.clientLeft,r.bottom=r.top+o.clientHeight,r.right=r.left+o.clientWidth,r.width=o.clientWidth,r.height=o.clientHeight,r.x=r.left,r.y=r.top,r}function M(o,t,r){return t===Si?O(c(o,r)):we(t)?D(t,r):O(d(vs(o)))}function R(o){var t=w(Oi(o)),r=["absolute","fixed"].indexOf(Fe(o).position)>=0,u=r&&Qe(o)?Ds(o):o;return we(u)?t.filter(function(m){return we(m)&&Ln(m,u)&&_s(m)!=="body"}):[]}function V(o,t,r,u){var m=t==="clippingParents"?R(o):[].concat(t),E=[].concat(m,[r]),T=E[0],C=E.reduce(function(x,z){var I=M(o,z,u);return x.top=He(I.top,x.top),x.right=Os(I.right,x.right),x.bottom=Os(I.bottom,x.bottom),x.left=He(I.left,x.left),x},M(o,T,u));return C.width=C.right-C.left,C.height=C.bottom-C.top,C.x=C.left,C.y=C.top,C}function B(o){var t=o.reference,r=o.element,u=o.placement,m=u?ge(u):null,E=u?On(u):null,T=t.x+t.width/2-r.width/2,C=t.y+t.height/2-r.height/2,x;switch(m){case Le:x={x:T,y:t.y-r.height};break;case ue:x={x:T,y:t.y+t.height};break;case Ve:x={x:t.x+t.width,y:C};break;case ye:x={x:t.x-r.width,y:C};break;default:x={x:t.x,y:t.y}}var z=m?Di(m):null;if(z!=null){var I=z==="y"?"height":"width";switch(E){case Cs:x[z]=x[z]-(t[I]/2-r[I]/2);break;case os:x[z]=x[z]+(t[I]/2-r[I]/2);break}}return x}function tt(o,t){t===void 0&&(t={});var r=t,u=r.placement,m=u===void 0?o.placement:u,E=r.strategy,T=E===void 0?o.strategy:E,C=r.boundary,x=C===void 0?ln:C,z=r.rootBoundary,I=z===void 0?Si:z,dt=r.elementContext,gt=dt===void 0?an:dt,ct=r.altBoundary,Bt=ct===void 0?!1:ct,_t=r.padding,wt=_t===void 0?0:_t,Ut=hr(typeof wt!="number"?wt:dr(wt,zs)),le=gt===an?cn:an,ae=o.rects.popper,bt=o.elements[Bt?le:gt],Pt=V(we(bt)?bt:bt.contextElement||vs(o.elements.popper),x,I,T),kt=fn(o.elements.reference),se=B({reference:kt,element:ae,strategy:"absolute",placement:m}),Ne=O(Object.assign({},ae,se)),Ae=gt===an?Ne:kt,_e={top:Pt.top-Ae.top+Ut.top,bottom:Ae.bottom-Pt.bottom+Ut.bottom,left:Pt.left-Ae.left+Ut.left,right:Ae.right-Pt.right+Ut.right},$e=o.modifiersData.offset;if(gt===an&&$e){var Ns=$e[m];Object.keys(_e).forEach(function(We){var si=[Ve,ue].indexOf(We)>=0?1:-1,ni=[Le,ue].indexOf(We)>=0?"y":"x";_e[We]+=Ns[ni]*si})}return _e}function Dt(o,t){t===void 0&&(t={});var r=t,u=r.placement,m=r.boundary,E=r.rootBoundary,T=r.padding,C=r.flipVariations,x=r.allowedAutoPlacements,z=x===void 0?Ci:x,I=On(u),dt=I?C?Ks:Ks.filter(function(Bt){return On(Bt)===I}):zs,gt=dt.filter(function(Bt){return z.indexOf(Bt)>=0});gt.length===0&&(gt=dt);var ct=gt.reduce(function(Bt,_t){return Bt[_t]=tt(o,{placement:_t,boundary:m,rootBoundary:E,padding:T})[ge(_t)],Bt},{});return Object.keys(ct).sort(function(Bt,_t){return ct[Bt]-ct[_t]})}function vt(o){if(ge(o)===Sn)return[];var t=qs(o);return[Xr(o),t,Xr(t)]}function pt(o){var t=o.state,r=o.options,u=o.name;if(!t.modifiersData[u]._skip){for(var m=r.mainAxis,E=m===void 0?!0:m,T=r.altAxis,C=T===void 0?!0:T,x=r.fallbackPlacements,z=r.padding,I=r.boundary,dt=r.rootBoundary,gt=r.altBoundary,ct=r.flipVariations,Bt=ct===void 0?!0:ct,_t=r.allowedAutoPlacements,wt=t.options.placement,Ut=ge(wt),le=Ut===wt,ae=x||(le||!Bt?[qs(wt)]:vt(wt)),bt=[wt].concat(ae).reduce(function(Ii,Nn){return Ii.concat(ge(Nn)===Sn?Dt(t,{placement:Nn,boundary:I,rootBoundary:dt,padding:z,flipVariations:Bt,allowedAutoPlacements:_t}):Nn)},[]),Pt=t.rects.reference,kt=t.rects.popper,se=new Map,Ne=!0,Ae=bt[0],_e=0;_e<bt.length;_e++){var $e=bt[_e],Ns=ge($e),We=On($e)===Cs,si=[Le,ue].indexOf(Ns)>=0,ni=si?"width":"height",us=tt(t,{placement:$e,boundary:I,rootBoundary:dt,altBoundary:gt,padding:z}),Ms=si?We?Ve:ye:We?ue:Le;Pt[ni]>kt[ni]&&(Ms=qs(Ms));var lo=qs(Ms),ii=[];if(E&&ii.push(us[Ns]<=0),C&&ii.push(us[Ms]<=0,us[lo]<=0),ii.every(function(Ii){return Ii})){Ae=$e,Ne=!1;break}se.set($e,ii)}if(Ne)for(var ao=Bt?3:1,Nl=function(Nn){var Er=bt.find(function(uo){var ri=se.get(uo);if(ri)return ri.slice(0,Nn).every(function(Ml){return Ml})});if(Er)return Ae=Er,"break"},br=ao;br>0;br--){var co=Nl(br);if(co==="break")break}t.placement!==Ae&&(t.modifiersData[u]._skip=!0,t.placement=Ae,t.reset=!0)}}let rt={name:"flip",enabled:!0,phase:"main",fn:pt,requiresIfExists:["offset"],data:{_skip:!1}};function j(o,t,r){return r===void 0&&(r={x:0,y:0}),{top:o.top-t.height-r.y,right:o.right-t.width+r.x,bottom:o.bottom-t.height+r.y,left:o.left-t.width-r.x}}function At(o){return[Le,Ve,ue,ye].some(function(t){return o[t]>=0})}function Gt(o){var t=o.state,r=o.name,u=t.rects.reference,m=t.rects.popper,E=t.modifiersData.preventOverflow,T=tt(t,{elementContext:"reference"}),C=tt(t,{altBoundary:!0}),x=j(T,u),z=j(C,m,E),I=At(x),dt=At(z);t.modifiersData[r]={referenceClippingOffsets:x,popperEscapeOffsets:z,isReferenceHidden:I,hasPopperEscaped:dt},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":I,"data-popper-escaped":dt})}let jt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Gt};function Rt(o,t,r){var u=ge(o),m=[ye,Le].indexOf(u)>=0?-1:1,E=typeof r=="function"?r(Object.assign({},t,{placement:o})):r,T=E[0],C=E[1];return T=T||0,C=(C||0)*m,[ye,Ve].indexOf(u)>=0?{x:C,y:T}:{x:T,y:C}}function ee(o){var t=o.state,r=o.options,u=o.name,m=r.offset,E=m===void 0?[0,0]:m,T=Ci.reduce(function(I,dt){return I[dt]=Rt(dt,t.rects,E),I},{}),C=T[t.placement],x=C.x,z=C.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=x,t.modifiersData.popperOffsets.y+=z),t.modifiersData[u]=T}let Oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ee};function ke(o){var t=o.state,r=o.name;t.modifiersData[r]=B({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}let Ie={name:"popperOffsets",enabled:!0,phase:"read",fn:ke,data:{}};function as(o){return o==="x"?"y":"x"}function cs(o){var t=o.state,r=o.options,u=o.name,m=r.mainAxis,E=m===void 0?!0:m,T=r.altAxis,C=T===void 0?!1:T,x=r.boundary,z=r.rootBoundary,I=r.altBoundary,dt=r.padding,gt=r.tether,ct=gt===void 0?!0:gt,Bt=r.tetherOffset,_t=Bt===void 0?0:Bt,wt=tt(t,{boundary:x,rootBoundary:z,padding:dt,altBoundary:I}),Ut=ge(t.placement),le=On(t.placement),ae=!le,bt=Di(Ut),Pt=as(bt),kt=t.modifiersData.popperOffsets,se=t.rects.reference,Ne=t.rects.popper,Ae=typeof _t=="function"?_t(Object.assign({},t.rects,{placement:t.placement})):_t,_e=typeof Ae=="number"?{mainAxis:Ae,altAxis:Ae}:Object.assign({mainAxis:0,altAxis:0},Ae),$e=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,Ns={x:0,y:0};if(kt){if(E){var We,si=bt==="y"?Le:ye,ni=bt==="y"?ue:Ve,us=bt==="y"?"height":"width",Ms=kt[bt],lo=Ms+wt[si],ii=Ms-wt[ni],ao=ct?-Ne[us]/2:0,Nl=le===Cs?se[us]:Ne[us],br=le===Cs?-Ne[us]:-se[us],co=t.elements.arrow,Ii=ct&&co?Li(co):{width:0,height:0},Nn=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:xi(),Er=Nn[si],uo=Nn[ni],ri=hn(0,se[us],Ii[us]),Ml=ae?se[us]/2-ao-ri-Er-_e.mainAxis:Nl-ri-Er-_e.mainAxis,vp=ae?-se[us]/2+ao+ri+uo+_e.mainAxis:br+ri+uo+_e.mainAxis,Pl=t.elements.arrow&&Ds(t.elements.arrow),bp=Pl?bt==="y"?Pl.clientTop||0:Pl.clientLeft||0:0,Cc=(We=$e?.[bt])!=null?We:0,Ep=Ms+Ml-Cc-bp,yp=Ms+vp-Cc,Lc=hn(ct?Os(lo,Ep):lo,Ms,ct?He(ii,yp):ii);kt[bt]=Lc,Ns[bt]=Lc-Ms}if(C){var Oc,wp=bt==="x"?Le:ye,Tp=bt==="x"?ue:Ve,oi=kt[Pt],fo=Pt==="y"?"height":"width",Dc=oi+wt[wp],xc=oi-wt[Tp],kl=[Le,ye].indexOf(Ut)!==-1,Nc=(Oc=$e?.[Pt])!=null?Oc:0,Mc=kl?Dc:oi-se[fo]-Ne[fo]-Nc+_e.altAxis,Pc=kl?oi+se[fo]+Ne[fo]-Nc-_e.altAxis:xc,kc=ct&&kl?fr(Mc,oi,Pc):hn(ct?Mc:Dc,oi,ct?Pc:xc);kt[Pt]=kc,Ns[Pt]=kc-oi}t.modifiersData[u]=Ns}}let Te={name:"preventOverflow",enabled:!0,phase:"main",fn:cs,requiresIfExists:["offset"]};function bs(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function De(o){return o===Xt(o)||!Qe(o)?Gn(o):bs(o)}function xe(o){var t=o.getBoundingClientRect(),r=Cn(t.width)/o.offsetWidth||1,u=Cn(t.height)/o.offsetHeight||1;return r!==1||u!==1}function Be(o,t,r){r===void 0&&(r=!1);var u=Qe(t),m=Qe(t)&&xe(t),E=vs(t),T=fn(o,m,r),C={scrollLeft:0,scrollTop:0},x={x:0,y:0};return(u||!u&&!r)&&((_s(t)!=="body"||p(E))&&(C=De(t)),Qe(t)?(x=fn(t,!0),x.x+=t.clientLeft,x.y+=t.clientTop):E&&(x.x=a(E))),{x:T.left+C.scrollLeft-x.x,y:T.top+C.scrollTop-x.y,width:T.width,height:T.height}}function Dn(o){var t=new Map,r=new Set,u=[];o.forEach(function(E){t.set(E.name,E)});function m(E){r.add(E.name);var T=[].concat(E.requires||[],E.requiresIfExists||[]);T.forEach(function(C){if(!r.has(C)){var x=t.get(C);x&&m(x)}}),u.push(E)}return o.forEach(function(E){r.has(E.name)||m(E)}),u}function Qs(o){var t=Dn(o);return Kn.reduce(function(r,u){return r.concat(t.filter(function(m){return m.phase===u}))},[])}function Xe(o){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(o())})})),t}}function kf(o){var t=o.reduce(function(r,u){var m=r[u.name];return r[u.name]=m?Object.assign({},m,u,{options:Object.assign({},m.options,u.options),data:Object.assign({},m.data,u.data)}):u,r},{});return Object.keys(t).map(function(r){return t[r]})}var Fa={placement:"bottom",modifiers:[],strategy:"absolute"};function Ba(){for(var o=arguments.length,t=new Array(o),r=0;r<o;r++)t[r]=arguments[r];return!t.some(function(u){return!(u&&typeof u.getBoundingClientRect=="function")})}function Zr(o){o===void 0&&(o={});var t=o,r=t.defaultModifiers,u=r===void 0?[]:r,m=t.defaultOptions,E=m===void 0?Fa:m;return function(C,x,z){z===void 0&&(z=E);var I={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fa,E),modifiersData:{},elements:{reference:C,popper:x},attributes:{},styles:{}},dt=[],gt=!1,ct={state:I,setOptions:function(Ut){var le=typeof Ut=="function"?Ut(I.options):Ut;_t(),I.options=Object.assign({},E,I.options,le),I.scrollParents={reference:we(C)?w(C):C.contextElement?w(C.contextElement):[],popper:w(x)};var ae=Qs(kf([].concat(u,I.options.modifiers)));return I.orderedModifiers=ae.filter(function(bt){return bt.enabled}),Bt(),ct.update()},forceUpdate:function(){if(!gt){var Ut=I.elements,le=Ut.reference,ae=Ut.popper;if(Ba(le,ae)){I.rects={reference:Be(le,Ds(ae),I.options.strategy==="fixed"),popper:Li(ae)},I.reset=!1,I.placement=I.options.placement,I.orderedModifiers.forEach(function(_e){return I.modifiersData[_e.name]=Object.assign({},_e.data)});for(var bt=0;bt<I.orderedModifiers.length;bt++){if(I.reset===!0){I.reset=!1,bt=-1;continue}var Pt=I.orderedModifiers[bt],kt=Pt.fn,se=Pt.options,Ne=se===void 0?{}:se,Ae=Pt.name;typeof kt=="function"&&(I=kt({state:I,options:Ne,name:Ae,instance:ct})||I)}}}},update:Xe(function(){return new Promise(function(wt){ct.forceUpdate(),wt(I)})}),destroy:function(){_t(),gt=!0}};if(!Ba(C,x))return ct;ct.setOptions(z).then(function(wt){!gt&&z.onFirstUpdate&&z.onFirstUpdate(wt)});function Bt(){I.orderedModifiers.forEach(function(wt){var Ut=wt.name,le=wt.options,ae=le===void 0?{}:le,bt=wt.effect;if(typeof bt=="function"){var Pt=bt({state:I,name:Ut,instance:ct,options:ae}),kt=function(){};dt.push(Pt||kt)}})}function _t(){dt.forEach(function(wt){return wt()}),dt=[]}return ct}}var If=Zr(),$f=[Mi,Ie,Zt,ls],Rf=Zr({defaultModifiers:$f}),Vf=[Mi,Ie,Zt,ls,Oe,rt,Te,pr,jt],bl=Zr({defaultModifiers:Vf});let Wa=Object.freeze(Object.defineProperty({__proto__:null,afterMain:re,afterRead:$t,afterWrite:un,applyStyles:ls,arrow:pr,auto:Sn,basePlacements:zs,beforeMain:Ls,beforeRead:cr,beforeWrite:oe,bottom:ue,clippingParents:ln,computeStyles:Zt,createPopper:bl,createPopperBase:If,createPopperLite:Rf,detectOverflow:tt,end:os,eventListeners:Mi,flip:rt,hide:jt,left:ye,main:fe,modifierPhases:Kn,offset:Oe,placements:Ci,popper:an,popperGenerator:Zr,popperOffsets:Ie,preventOverflow:Te,read:Nt,reference:cn,right:Ve,start:Cs,top:Le,variationPlacements:Ks,viewport:Si,write:Mt},Symbol.toStringTag,{value:"Module"})),ja="dropdown",qn=".bs.dropdown",El=".data-api",Hf="Escape",Ua="Tab",Ff="ArrowUp",za="ArrowDown",Bf=2,Wf=`hide${qn}`,jf=`hidden${qn}`,Uf=`show${qn}`,zf=`shown${qn}`,Ka=`click${qn}${El}`,Ya=`keydown${qn}${El}`,Kf=`keyup${qn}${El}`,Pi="show",Yf="dropup",Gf="dropend",qf="dropstart",Qf="dropup-center",Jf="dropdown-center",Qn='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Xf=`${Qn}.${Pi}`,to=".dropdown-menu",Zf=".navbar",th=".navbar-nav",eh=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",sh=N()?"top-end":"top-start",nh=N()?"top-start":"top-end",ih=N()?"bottom-end":"bottom-start",rh=N()?"bottom-start":"bottom-end",oh=N()?"left-start":"right-start",lh=N()?"right-start":"left-start",ah="top",ch="bottom",uh={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},fh={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class xs extends ce{constructor(t,r){super(t,r),this._popper=null,this._parent=this._element.parentNode,this._menu=Y.next(this._element,to)[0]||Y.prev(this._element,to)[0]||Y.findOne(to,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return uh}static get DefaultType(){return fh}static get NAME(){return ja}toggle(){return this._isShown()?this.hide():this.show()}show(){if(P(this._element)||this._isShown())return;let t={relatedTarget:this._element};if(!L.trigger(this._element,Uf,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(th))for(let u of[].concat(...document.body.children))L.on(u,"mouseover",K);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Pi),this._element.classList.add(Pi),L.trigger(this._element,zf,t)}}hide(){if(P(this._element)||!this._isShown())return;let t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!L.trigger(this._element,Wf,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(let u of[].concat(...document.body.children))L.off(u,"mouseover",K);this._popper&&this._popper.destroy(),this._menu.classList.remove(Pi),this._element.classList.remove(Pi),this._element.setAttribute("aria-expanded","false"),Ct.removeDataAttribute(this._menu,"popper"),L.trigger(this._element,jf,t)}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!S(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${ja.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof Wa>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let t=this._element;this._config.reference==="parent"?t=this._parent:S(this._config.reference)?t=y(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);let r=this._getPopperConfig();this._popper=bl(t,this._menu,r)}_isShown(){return this._menu.classList.contains(Pi)}_getPlacement(){let t=this._parent;if(t.classList.contains(Gf))return oh;if(t.classList.contains(qf))return lh;if(t.classList.contains(Qf))return ah;if(t.classList.contains(Jf))return ch;let r=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Yf)?r?nh:sh:r?rh:ih}_detectNavbar(){return this._element.closest(Zf)!==null}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(r=>Number.parseInt(r,10)):typeof t=="function"?r=>t(r,this._element):t}_getPopperConfig(){let t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Ct.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...$(this._config.popperConfig,[t])}}_selectMenuItem({key:t,target:r}){let u=Y.find(eh,this._menu).filter(m=>A(m));u.length&&it(u,r,t===za,!u.includes(r)).focus()}static jQueryInterface(t){return this.each(function(){let r=xs.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}static clearMenus(t){if(t.button===Bf||t.type==="keyup"&&t.key!==Ua)return;let r=Y.find(Xf);for(let u of r){let m=xs.getInstance(u);if(!m||m._config.autoClose===!1)continue;let E=t.composedPath(),T=E.includes(m._menu);if(E.includes(m._element)||m._config.autoClose==="inside"&&!T||m._config.autoClose==="outside"&&T||m._menu.contains(t.target)&&(t.type==="keyup"&&t.key===Ua||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;let C={relatedTarget:m._element};t.type==="click"&&(C.clickEvent=t),m._completeHide(C)}}static dataApiKeydownHandler(t){let r=/input|textarea/i.test(t.target.tagName),u=t.key===Hf,m=[Ff,za].includes(t.key);if(!m&&!u||r&&!u)return;t.preventDefault();let E=this.matches(Qn)?this:Y.prev(this,Qn)[0]||Y.next(this,Qn)[0]||Y.findOne(Qn,t.delegateTarget.parentNode),T=xs.getOrCreateInstance(E);if(m){t.stopPropagation(),T.show(),T._selectMenuItem(t);return}T._isShown()&&(t.stopPropagation(),T.hide(),E.focus())}}L.on(document,Ya,Qn,xs.dataApiKeydownHandler),L.on(document,Ya,to,xs.dataApiKeydownHandler),L.on(document,Ka,xs.clearMenus),L.on(document,Kf,xs.clearMenus),L.on(document,Ka,Qn,function(o){o.preventDefault(),xs.getOrCreateInstance(this).toggle()}),Z(xs);let Ga="backdrop",hh="fade",qa="show",Qa=`mousedown.bs.${Ga}`,dh={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},ph={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Ja extends Ce{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return dh}static get DefaultType(){return ph}static get NAME(){return Ga}show(t){if(!this._config.isVisible){$(t);return}this._append();let r=this._getElement();this._config.isAnimated&&q(r),r.classList.add(qa),this._emulateAnimation(()=>{$(t)})}hide(t){if(!this._config.isVisible){$(t);return}this._getElement().classList.remove(qa),this._emulateAnimation(()=>{this.dispose(),$(t)})}dispose(){this._isAppended&&(L.off(this._element,Qa),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){let t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(hh),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=y(t.rootElement),t}_append(){if(this._isAppended)return;let t=this._getElement();this._config.rootElement.append(t),L.on(t,Qa,()=>{$(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){ht(t,this._getElement(),this._config.isAnimated)}}let mh="focustrap",eo=".bs.focustrap",gh=`focusin${eo}`,_h=`keydown.tab${eo}`,vh="Tab",bh="forward",Xa="backward",Eh={autofocus:!0,trapElement:null},yh={autofocus:"boolean",trapElement:"element"};class Za extends Ce{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Eh}static get DefaultType(){return yh}static get NAME(){return mh}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),L.off(document,eo),L.on(document,gh,t=>this._handleFocusin(t)),L.on(document,_h,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,L.off(document,eo))}_handleFocusin(t){let{trapElement:r}=this._config;if(t.target===document||t.target===r||r.contains(t.target))return;let u=Y.focusableChildren(r);u.length===0?r.focus():this._lastTabNavDirection===Xa?u[u.length-1].focus():u[0].focus()}_handleKeydown(t){t.key===vh&&(this._lastTabNavDirection=t.shiftKey?Xa:bh)}}let tc=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ec=".sticky-top",so="padding-right",sc="margin-right";class yl{constructor(){this._element=document.body}getWidth(){let t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){let t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,so,r=>r+t),this._setElementAttributes(tc,so,r=>r+t),this._setElementAttributes(ec,sc,r=>r-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,so),this._resetElementAttributes(tc,so),this._resetElementAttributes(ec,sc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,r,u){let m=this.getWidth(),E=T=>{if(T!==this._element&&window.innerWidth>T.clientWidth+m)return;this._saveInitialAttribute(T,r);let C=window.getComputedStyle(T).getPropertyValue(r);T.style.setProperty(r,`${u(Number.parseFloat(C))}px`)};this._applyManipulationCallback(t,E)}_saveInitialAttribute(t,r){let u=t.style.getPropertyValue(r);u&&Ct.setDataAttribute(t,r,u)}_resetElementAttributes(t,r){let u=m=>{let E=Ct.getDataAttribute(m,r);if(E===null){m.style.removeProperty(r);return}Ct.removeDataAttribute(m,r),m.style.setProperty(r,E)};this._applyManipulationCallback(t,u)}_applyManipulationCallback(t,r){if(S(t)){r(t);return}for(let u of Y.find(t,this._element))r(u)}}let wh="modal",Es=".bs.modal",Th=".data-api",Ah="Escape",Sh=`hide${Es}`,Ch=`hidePrevented${Es}`,nc=`hidden${Es}`,ic=`show${Es}`,Lh=`shown${Es}`,Oh=`resize${Es}`,Dh=`click.dismiss${Es}`,xh=`mousedown.dismiss${Es}`,Nh=`keydown.dismiss${Es}`,Mh=`click${Es}${Th}`,rc="modal-open",Ph="fade",oc="show",wl="modal-static",kh=".modal.show",Ih=".modal-dialog",$h=".modal-body",Rh='[data-bs-toggle="modal"]',Vh={backdrop:!0,focus:!0,keyboard:!0},Hh={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Jn extends ce{constructor(t,r){super(t,r),this._dialog=Y.findOne(Ih,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new yl,this._addEventListeners()}static get Default(){return Vh}static get DefaultType(){return Hh}static get NAME(){return wh}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||L.trigger(this._element,ic,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(rc),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||L.trigger(this._element,Sh).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(oc),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){L.off(window,Es),L.off(this._dialog,Es),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Ja({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Za({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;let r=Y.findOne($h,this._dialog);r&&(r.scrollTop=0),q(this._element),this._element.classList.add(oc);let u=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,L.trigger(this._element,Lh,{relatedTarget:t})};this._queueCallback(u,this._dialog,this._isAnimated())}_addEventListeners(){L.on(this._element,Nh,t=>{if(t.key===Ah){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),L.on(window,Oh,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),L.on(this._element,xh,t=>{L.one(this._element,Dh,r=>{if(!(this._element!==t.target||this._element!==r.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(rc),this._resetAdjustments(),this._scrollBar.reset(),L.trigger(this._element,nc)})}_isAnimated(){return this._element.classList.contains(Ph)}_triggerBackdropTransition(){if(L.trigger(this._element,Ch).defaultPrevented)return;let r=this._element.scrollHeight>document.documentElement.clientHeight,u=this._element.style.overflowY;u==="hidden"||this._element.classList.contains(wl)||(r||(this._element.style.overflowY="hidden"),this._element.classList.add(wl),this._queueCallback(()=>{this._element.classList.remove(wl),this._queueCallback(()=>{this._element.style.overflowY=u},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){let t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._scrollBar.getWidth(),u=r>0;if(u&&!t){let m=N()?"paddingLeft":"paddingRight";this._element.style[m]=`${r}px`}if(!u&&t){let m=N()?"paddingRight":"paddingLeft";this._element.style[m]=`${r}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,r){return this.each(function(){let u=Jn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof u[t]>"u")throw new TypeError(`No method named "${t}"`);u[t](r)}})}}L.on(document,Mh,Rh,function(o){let t=Y.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&o.preventDefault(),L.one(t,ic,m=>{m.defaultPrevented||L.one(t,nc,()=>{A(this)&&this.focus()})});let r=Y.findOne(kh);r&&Jn.getInstance(r).hide(),Jn.getOrCreateInstance(t).toggle(this)}),Rs(Jn),Z(Jn);let Fh="offcanvas",pn=".bs.offcanvas",lc=".data-api",Bh=`load${pn}${lc}`,Wh="Escape",ac="show",cc="showing",uc="hiding",jh="offcanvas-backdrop",fc=".offcanvas.show",Uh=`show${pn}`,zh=`shown${pn}`,Kh=`hide${pn}`,hc=`hidePrevented${pn}`,dc=`hidden${pn}`,Yh=`resize${pn}`,Gh=`click${pn}${lc}`,qh=`keydown.dismiss${pn}`,Qh='[data-bs-toggle="offcanvas"]',Jh={backdrop:!0,keyboard:!0,scroll:!1},Xh={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class mn extends ce{constructor(t,r){super(t,r),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Jh}static get DefaultType(){return Xh}static get NAME(){return Fh}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||L.trigger(this._element,Uh,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new yl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(cc);let u=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ac),this._element.classList.remove(cc),L.trigger(this._element,zh,{relatedTarget:t})};this._queueCallback(u,this._element,!0)}hide(){if(!this._isShown||L.trigger(this._element,Kh).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(uc),this._backdrop.hide();let r=()=>{this._element.classList.remove(ac,uc),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new yl().reset(),L.trigger(this._element,dc)};this._queueCallback(r,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){let t=()=>{if(this._config.backdrop==="static"){L.trigger(this._element,hc);return}this.hide()},r=!!this._config.backdrop;return new Ja({className:jh,isVisible:r,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:r?t:null})}_initializeFocusTrap(){return new Za({trapElement:this._element})}_addEventListeners(){L.on(this._element,qh,t=>{if(t.key===Wh){if(this._config.keyboard){this.hide();return}L.trigger(this._element,hc)}})}static jQueryInterface(t){return this.each(function(){let r=mn.getOrCreateInstance(this,t);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}L.on(document,Gh,Qh,function(o){let t=Y.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),P(this))return;L.one(t,dc,()=>{A(this)&&this.focus()});let r=Y.findOne(fc);r&&r!==t&&mn.getInstance(r).hide(),mn.getOrCreateInstance(t).toggle(this)}),L.on(window,Bh,()=>{for(let o of Y.find(fc))mn.getOrCreateInstance(o).show()}),L.on(window,Yh,()=>{for(let o of Y.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(o).position!=="fixed"&&mn.getOrCreateInstance(o).hide()}),Rs(mn),Z(mn);let pc={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Zh=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),td=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ed=(o,t)=>{let r=o.nodeName.toLowerCase();return t.includes(r)?Zh.has(r)?!!td.test(o.nodeValue):!0:t.filter(u=>u instanceof RegExp).some(u=>u.test(r))};function sd(o,t,r){if(!o.length)return o;if(r&&typeof r=="function")return r(o);let m=new window.DOMParser().parseFromString(o,"text/html"),E=[].concat(...m.body.querySelectorAll("*"));for(let T of E){let C=T.nodeName.toLowerCase();if(!Object.keys(t).includes(C)){T.remove();continue}let x=[].concat(...T.attributes),z=[].concat(t["*"]||[],t[C]||[]);for(let I of x)ed(I,z)||T.removeAttribute(I.nodeName)}return m.body.innerHTML}let nd="TemplateFactory",id={allowList:pc,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},rd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},od={entry:"(string|element|function|null)",selector:"(string|element)"};class ld extends Ce{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return id}static get DefaultType(){return rd}static get NAME(){return nd}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){let t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(let[m,E]of Object.entries(this._config.content))this._setContent(t,E,m);let r=t.children[0],u=this._resolvePossibleFunction(this._config.extraClass);return u&&r.classList.add(...u.split(" ")),r}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(let[r,u]of Object.entries(t))super._typeCheckConfig({selector:r,entry:u},od)}_setContent(t,r,u){let m=Y.findOne(u,t);if(m){if(r=this._resolvePossibleFunction(r),!r){m.remove();return}if(S(r)){this._putElementInTemplate(y(r),m);return}if(this._config.html){m.innerHTML=this._maybeSanitize(r);return}m.textContent=r}}_maybeSanitize(t){return this._config.sanitize?sd(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return $(t,[this])}_putElementInTemplate(t,r){if(this._config.html){r.innerHTML="",r.append(t);return}r.textContent=t.textContent}}let ad="tooltip",cd=new Set(["sanitize","allowList","sanitizeFn"]),Tl="fade",ud="modal",no="show",fd=".tooltip-inner",mc=`.${ud}`,gc="hide.bs.modal",gr="hover",Al="focus",hd="click",dd="manual",pd="hide",md="hidden",gd="show",_d="shown",vd="inserted",bd="click",Ed="focusin",yd="focusout",wd="mouseenter",Td="mouseleave",Ad={AUTO:"auto",TOP:"top",RIGHT:N()?"left":"right",BOTTOM:"bottom",LEFT:N()?"right":"left"},Sd={allowList:pc,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Cd={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Xn extends ce{constructor(t,r){if(typeof Wa>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t,r),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Sd}static get DefaultType(){return Cd}static get NAME(){return ad}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),L.off(this._element.closest(mc),gc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;let t=L.trigger(this._element,this.constructor.eventName(gd)),u=(H(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!u)return;this._disposePopper();let m=this._getTipElement();this._element.setAttribute("aria-describedby",m.getAttribute("id"));let{container:E}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(E.append(m),L.trigger(this._element,this.constructor.eventName(vd))),this._popper=this._createPopper(m),m.classList.add(no),"ontouchstart"in document.documentElement)for(let C of[].concat(...document.body.children))L.on(C,"mouseover",K);let T=()=>{L.trigger(this._element,this.constructor.eventName(_d)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(T,this.tip,this._isAnimated())}hide(){if(!this._isShown()||L.trigger(this._element,this.constructor.eventName(pd)).defaultPrevented)return;if(this._getTipElement().classList.remove(no),"ontouchstart"in document.documentElement)for(let m of[].concat(...document.body.children))L.off(m,"mouseover",K);this._activeTrigger[hd]=!1,this._activeTrigger[Al]=!1,this._activeTrigger[gr]=!1,this._isHovered=null;let u=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),L.trigger(this._element,this.constructor.eventName(md)))};this._queueCallback(u,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){let r=this._getTemplateFactory(t).toHtml();if(!r)return null;r.classList.remove(Tl,no),r.classList.add(`bs-${this.constructor.NAME}-auto`);let u=_(this.constructor.NAME).toString();return r.setAttribute("id",u),this._isAnimated()&&r.classList.add(Tl),r}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new ld({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[fd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Tl)}_isShown(){return this.tip&&this.tip.classList.contains(no)}_createPopper(t){let r=$(this._config.placement,[this,t,this._element]),u=Ad[r.toUpperCase()];return bl(this._element,t,this._getPopperConfig(u))}_getOffset(){let{offset:t}=this._config;return typeof t=="string"?t.split(",").map(r=>Number.parseInt(r,10)):typeof t=="function"?r=>t(r,this._element):t}_resolvePossibleFunction(t){return $(t,[this._element])}_getPopperConfig(t){let r={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:u=>{this._getTipElement().setAttribute("data-popper-placement",u.state.placement)}}]};return{...r,...$(this._config.popperConfig,[r])}}_setListeners(){let t=this._config.trigger.split(" ");for(let r of t)if(r==="click")L.on(this._element,this.constructor.eventName(bd),this._config.selector,u=>{this._initializeOnDelegatedTarget(u).toggle()});else if(r!==dd){let u=r===gr?this.constructor.eventName(wd):this.constructor.eventName(Ed),m=r===gr?this.constructor.eventName(Td):this.constructor.eventName(yd);L.on(this._element,u,this._config.selector,E=>{let T=this._initializeOnDelegatedTarget(E);T._activeTrigger[E.type==="focusin"?Al:gr]=!0,T._enter()}),L.on(this._element,m,this._config.selector,E=>{let T=this._initializeOnDelegatedTarget(E);T._activeTrigger[E.type==="focusout"?Al:gr]=T._element.contains(E.relatedTarget),T._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},L.on(this._element.closest(mc),gc,this._hideModalHandler)}_fixTitle(){let t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,r){clearTimeout(this._timeout),this._timeout=setTimeout(t,r)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){let r=Ct.getDataAttributes(this._element);for(let u of Object.keys(r))cd.has(u)&&delete r[u];return t={...r,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:y(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){let t={};for(let[r,u]of Object.entries(this._config))this.constructor.Default[r]!==u&&(t[r]=u);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){let r=Xn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Z(Xn);let Ld="popover",Od=".popover-header",Dd=".popover-body",xd={...Xn.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Nd={...Xn.DefaultType,content:"(null|string|element|function)"};class io extends Xn{static get Default(){return xd}static get DefaultType(){return Nd}static get NAME(){return Ld}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Od]:this._getTitle(),[Dd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){let r=io.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t]()}})}}Z(io);let Md="scrollspy",Sl=".bs.scrollspy",Pd=".data-api",kd=`activate${Sl}`,_c=`click${Sl}`,Id=`load${Sl}${Pd}`,$d="dropdown-item",ki="active",Rd='[data-bs-spy="scroll"]',Cl="[href]",Vd=".nav, .list-group",vc=".nav-link",Hd=`${vc}, .nav-item > ${vc}, .list-group-item`,Fd=".dropdown",Bd=".dropdown-toggle",Wd={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},jd={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class _r extends ce{constructor(t,r){super(t,r),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return Wd}static get DefaultType(){return jd}static get NAME(){return Md}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(let t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=y(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(r=>Number.parseFloat(r))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(L.off(this._config.target,_c),L.on(this._config.target,_c,Cl,t=>{let r=this._observableSections.get(t.target.hash);if(r){t.preventDefault();let u=this._rootElement||window,m=r.offsetTop-this._element.offsetTop;if(u.scrollTo){u.scrollTo({top:m,behavior:"smooth"});return}u.scrollTop=m}}))}_getNewObserver(){let t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(r=>this._observerCallback(r),t)}_observerCallback(t){let r=T=>this._targetLinks.get(`#${T.target.id}`),u=T=>{this._previousScrollData.visibleEntryTop=T.target.offsetTop,this._process(r(T))},m=(this._rootElement||document.documentElement).scrollTop,E=m>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=m;for(let T of t){if(!T.isIntersecting){this._activeTarget=null,this._clearActiveClass(r(T));continue}let C=T.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(E&&C){if(u(T),!m)return;continue}!E&&!C&&u(T)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;let t=Y.find(Cl,this._config.target);for(let r of t){if(!r.hash||P(r))continue;let u=Y.findOne(decodeURI(r.hash),this._element);A(u)&&(this._targetLinks.set(decodeURI(r.hash),r),this._observableSections.set(r.hash,u))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(ki),this._activateParents(t),L.trigger(this._element,kd,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains($d)){Y.findOne(Bd,t.closest(Fd)).classList.add(ki);return}for(let r of Y.parents(t,Vd))for(let u of Y.prev(r,Hd))u.classList.add(ki)}_clearActiveClass(t){t.classList.remove(ki);let r=Y.find(`${Cl}.${ki}`,t);for(let u of r)u.classList.remove(ki)}static jQueryInterface(t){return this.each(function(){let r=_r.getOrCreateInstance(this,t);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}L.on(window,Id,()=>{for(let o of Y.find(Rd))_r.getOrCreateInstance(o)}),Z(_r);let Ud="tab",Zn=".bs.tab",zd=`hide${Zn}`,Kd=`hidden${Zn}`,Yd=`show${Zn}`,Gd=`shown${Zn}`,qd=`click${Zn}`,Qd=`keydown${Zn}`,Jd=`load${Zn}`,Xd="ArrowLeft",bc="ArrowRight",Zd="ArrowUp",Ec="ArrowDown",Ll="Home",yc="End",ti="active",wc="fade",Ol="show",tp="dropdown",Tc=".dropdown-toggle",ep=".dropdown-menu",Dl=`:not(${Tc})`,sp='.list-group, .nav, [role="tablist"]',np=".nav-item, .list-group-item",ip=`.nav-link${Dl}, .list-group-item${Dl}, [role="tab"]${Dl}`,Ac='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',xl=`${ip}, ${Ac}`,rp=`.${ti}[data-bs-toggle="tab"], .${ti}[data-bs-toggle="pill"], .${ti}[data-bs-toggle="list"]`;class ei extends ce{constructor(t){super(t),this._parent=this._element.closest(sp),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),L.on(this._element,Qd,r=>this._keydown(r)))}static get NAME(){return Ud}show(){let t=this._element;if(this._elemIsActive(t))return;let r=this._getActiveElem(),u=r?L.trigger(r,zd,{relatedTarget:t}):null;L.trigger(t,Yd,{relatedTarget:r}).defaultPrevented||u&&u.defaultPrevented||(this._deactivate(r,t),this._activate(t,r))}_activate(t,r){if(!t)return;t.classList.add(ti),this._activate(Y.getElementFromSelector(t));let u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Ol);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),L.trigger(t,Gd,{relatedTarget:r})};this._queueCallback(u,t,t.classList.contains(wc))}_deactivate(t,r){if(!t)return;t.classList.remove(ti),t.blur(),this._deactivate(Y.getElementFromSelector(t));let u=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Ol);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),L.trigger(t,Kd,{relatedTarget:r})};this._queueCallback(u,t,t.classList.contains(wc))}_keydown(t){if(![Xd,bc,Zd,Ec,Ll,yc].includes(t.key))return;t.stopPropagation(),t.preventDefault();let r=this._getChildren().filter(m=>!P(m)),u;if([Ll,yc].includes(t.key))u=r[t.key===Ll?0:r.length-1];else{let m=[bc,Ec].includes(t.key);u=it(r,t.target,m,!0)}u&&(u.focus({preventScroll:!0}),ei.getOrCreateInstance(u).show())}_getChildren(){return Y.find(xl,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,r){this._setAttributeIfNotExists(t,"role","tablist");for(let u of r)this._setInitialAttributesOnChild(u)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);let r=this._elemIsActive(t),u=this._getOuterElement(t);t.setAttribute("aria-selected",r),u!==t&&this._setAttributeIfNotExists(u,"role","presentation"),r||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){let r=Y.getElementFromSelector(t);r&&(this._setAttributeIfNotExists(r,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(r,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,r){let u=this._getOuterElement(t);if(!u.classList.contains(tp))return;let m=(E,T)=>{let C=Y.findOne(E,u);C&&C.classList.toggle(T,r)};m(Tc,ti),m(ep,Ol),u.setAttribute("aria-expanded",r)}_setAttributeIfNotExists(t,r,u){t.hasAttribute(r)||t.setAttribute(r,u)}_elemIsActive(t){return t.classList.contains(ti)}_getInnerElement(t){return t.matches(xl)?t:Y.findOne(xl,t)}_getOuterElement(t){return t.closest(np)||t}static jQueryInterface(t){return this.each(function(){let r=ei.getOrCreateInstance(this);if(typeof t=="string"){if(r[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);r[t]()}})}}L.on(document,qd,Ac,function(o){["A","AREA"].includes(this.tagName)&&o.preventDefault(),!P(this)&&ei.getOrCreateInstance(this).show()}),L.on(window,Jd,()=>{for(let o of Y.find(rp))ei.getOrCreateInstance(o)}),Z(ei);let op="toast",xn=".bs.toast",lp=`mouseover${xn}`,ap=`mouseout${xn}`,cp=`focusin${xn}`,up=`focusout${xn}`,fp=`hide${xn}`,hp=`hidden${xn}`,dp=`show${xn}`,pp=`shown${xn}`,mp="fade",Sc="hide",ro="show",oo="showing",gp={animation:"boolean",autohide:"boolean",delay:"number"},_p={animation:!0,autohide:!0,delay:5e3};class vr extends ce{constructor(t,r){super(t,r),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return _p}static get DefaultType(){return gp}static get NAME(){return op}show(){if(L.trigger(this._element,dp).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(mp);let r=()=>{this._element.classList.remove(oo),L.trigger(this._element,pp),this._maybeScheduleHide()};this._element.classList.remove(Sc),q(this._element),this._element.classList.add(ro,oo),this._queueCallback(r,this._element,this._config.animation)}hide(){if(!this.isShown()||L.trigger(this._element,fp).defaultPrevented)return;let r=()=>{this._element.classList.add(Sc),this._element.classList.remove(oo,ro),L.trigger(this._element,hp)};this._element.classList.add(oo),this._queueCallback(r,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ro),super.dispose()}isShown(){return this._element.classList.contains(ro)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,r){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=r;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=r;break}}if(r){this._clearTimeout();return}let u=t.relatedTarget;this._element===u||this._element.contains(u)||this._maybeScheduleHide()}_setListeners(){L.on(this._element,lp,t=>this._onInteraction(t,!0)),L.on(this._element,ap,t=>this._onInteraction(t,!1)),L.on(this._element,cp,t=>this._onInteraction(t,!0)),L.on(this._element,up,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){let r=vr.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof r[t]>"u")throw new TypeError(`No method named "${t}"`);r[t](this)}})}}return Rs(vr),Z(vr),{Alert:nt,Button:pe,Carousel:rn,Collapse:gs,Dropdown:xs,Modal:Jn,Offcanvas:mn,Popover:io,ScrollSpy:_r,Tab:ei,Toast:vr,Tooltip:Xn}})});var Mn=Object.getPrototypeOf,wr,$l,$i,yr,Rc={isConnected:1},Np=1e3,ho,Mp={},Pp=Mn(Rc),Vc=Mn(Mn),li,Hc=(i,e,s,n)=>(i??(setTimeout(s,n),new Set)).add(e),Fc=(i,e,s)=>{let n=$i;$i=e;try{return i(s)}catch(l){return console.error(l),s}finally{$i=n}},po=i=>i.filter(e=>e._dom?.isConnected),Bc=i=>ho=Hc(ho,i,()=>{for(let e of ho)e._bindings=po(e._bindings),e._listeners=po(e._listeners);ho=li},Np),mo={get val(){return $i?._getters?.add(this),this.rawVal},get oldVal(){return $i?._getters?.add(this),this._oldVal},set val(i){$i?._setters?.add(this),i!==this.rawVal&&(this.rawVal=i,this._bindings.length+this._listeners.length?($l?.add(this),wr=Hc(wr,this,kp)):this._oldVal=i)}},Wc=i=>({__proto__:mo,rawVal:i,_oldVal:i,_bindings:[],_listeners:[]}),Tr=(i,e)=>{let s={_getters:new Set,_setters:new Set},n={f:i},l=yr;yr=[];let f=Fc(i,s,e);f=(f??document).nodeType?f:new Text(f);for(let h of s._getters)s._setters.has(h)||(Bc(h),h._bindings.push(n));for(let h of yr)h._dom=f;return yr=l,n._dom=f},Rl=(i,e=Wc(),s)=>{let n={_getters:new Set,_setters:new Set},l={f:i,s:e};l._dom=s??yr?.push(l)??Rc,e.val=Fc(i,n,e.rawVal);for(let f of n._getters)n._setters.has(f)||(Bc(f),f._listeners.push(l));return e},jc=(i,...e)=>{for(let s of e.flat(1/0)){let n=Mn(s??0),l=n===mo?Tr(()=>s.val):n===Vc?Tr(s):s;l!=li&&i.append(l)}return i},Uc=(i,e,...s)=>{let[n,...l]=Mn(s[0]??0)===Pp?s:[{},...s],f=i?document.createElementNS(i,e):document.createElement(e);for(let[h,_]of Object.entries(n)){let b=P=>P?Object.getOwnPropertyDescriptor(P,h)??b(Mn(P)):li,v=e+","+h,S=Mp[v]??=b(Mn(f))?.set??0,y=h.startsWith("on")?(P,H)=>{let K=h.slice(2);f.removeEventListener(K,H),f.addEventListener(K,P)}:S?S.bind(f):f.setAttribute.bind(f,h),A=Mn(_??0);h.startsWith("on")||A===Vc&&(_=Rl(_),A=mo),A===mo?Tr(()=>(y(_.val,_._oldVal),f)):y(_)}return jc(f,l)},$c=i=>({get:(e,s)=>Uc.bind(li,i,s)}),zc=(i,e)=>e?e!==i&&i.replaceWith(e):i.remove(),kp=()=>{let i=0,e=[...wr].filter(n=>n.rawVal!==n._oldVal);do{$l=new Set;for(let n of new Set(e.flatMap(l=>l._listeners=po(l._listeners))))Rl(n.f,n.s,n._dom),n._dom=li}while(++i<100&&(e=[...$l]).length);let s=[...wr].filter(n=>n.rawVal!==n._oldVal);wr=li;for(let n of new Set(s.flatMap(l=>l._bindings=po(l._bindings))))zc(n._dom,Tr(n.f,n._dom)),n._dom=li;for(let n of s)n._oldVal=n.rawVal},qt={tags:new Proxy(i=>new Proxy(Uc,$c(i)),$c()),hydrate:(i,e)=>zc(i,Tr(e,i)),add:jc,state:Wc,derive:Rl};var Kc=Il(go()),{h5:Ip,div:Ar}=qt.tags;var Se=class i{static showSuccess(e){e.status=2,i.show(e)}static showError(e){e.status=1,i.show(e)}static showWarning(e){e.status=3,i.show(e)}static show(e){document.dispatchEvent(new CustomEvent("SFT_NOTIFICATION",{detail:e}))}createModal(e){var s="modal-content";switch(e.status||(e.status=0),e.status){case 2:s="alert alert-success";break;case 1:s="alert alert-danger"}var n=Ar({class:s});e.title&&qt.add(n,Ar({class:"modal-header"},Ip({class:"modal-title"},e.title))),e.msg&&qt.add(n,Ar({class:"modal-body"},e.msg));var l=Ar({class:"modal fade ",tabindex:"-1",role:"dialog"},Ar({class:"modal-dialog",role:"document"},n));return qt.add(document.body,l),new Kc.Modal(l)}showNotification(e){var s=this.createModal(e);s.show(),setTimeout(()=>{s.hide(),setTimeout(()=>{s.dispose()},5e3)},1500)}constructor(){document.addEventListener("SFT_NOTIFICATION",e=>{e.detail&&this.showNotification(e.detail)})}};var Pn=class i{static#t;offset;constructor(){}static instance(){return i.#t||(i.#t=new i),i.#t}static getOffset(){return i.instance().offset}sync_time_finish(e){var s=e.client[0],n=e.client[1],l=e.client[2],f=e.client[3],h=e.server[0],_=e.server[1],b=e.server[2],v=e.server[3],S=(n-s+_-h)/4,y=n-(_-S),A=(f-l+v-b)/4,P=l-(b-A),H=(y+P)/2;return Math.round(H)}async sync_time(e){if(e||(e={client:[Date.now()]}),this.offset)return this.offset;let s=await fetch("/api/v1/time-sync",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(e)});if(!s.ok)Se.showError({msg:`Failed to sync time! ${s.status}`});else{let n=await s.json();if(n.client&&n.server)if(n.client.length<4)n.client.push(Date.now()),this.sync_time(n);else return this.offset=this.sync_time_finish(n),this.offset}}};function kn(i){for(var e=typeof i=="string"?parseInt(i,10):i,s=Math.floor(e/3600/1e3),n=Math.floor((e-s*3600*1e3)/60/1e3),l=Math.floor((e-s*3600*1e3-n*60*1e3)/1e3),f=e-s*3600*1e3-n*60*1e3-l*1e3,h=[[s.toString(),"h"],[n.toString(),"m"],[l.toString(),"s"],[f.toString(),"ms"]],_=!1,b="",v=0;v<h.length;v++)(h[v][0]!="0"||_)&&(b+=h[v][0]+h[v][1]+" ",_=!0);return b}function je(i){return document.getElementById(i)}function _o(i){i.style.display!=="none"&&(i.old_display=i.style.display,i.style.display="none")}function vo(i){i.style.display==="none"&&(i.style.display=i.old_display||"initial")}function Ri(i){var e=new Map;for(let s of Object.keys(i))Number.isNaN(Number(s))||e.set(s,i[s]);return e}function Fl(i){return i.slice((i.lastIndexOf(".")-1>>>0)+2)}var ai=class{static get QUESTION_SVG(){return"question-circle.svg"}};function Bl(i,e){return typeof i>"u"||i===null?e:i}function bo(i){i=i;var e=(i&16711680)>>16,s=(i&65280)>>8,n=i&255;return"#"+e.toString(16).padStart(2,"0")+s.toString(16).padStart(2,"0")+n.toString(16).padStart(2,"0")}var{button:E_,div:Sr,pre:y_,ul:$p,li:Rp,a:Vp}=qt.tags,Re=class{name;visible;constructor(e){this.name=e,this.visible=!1}},In=class{name;pages;currentPage;addPage(e){this.pages.push(e)}showPage(e,s){if(!this.pages.find(n=>n==e)){console.error(`Failed: showPage(${e.name}) - page not in this Mode`);return}this.currentPage&&(this.currentPage.visible=!1),this.currentPage=e,e.visible=!0,s.replaceChildren(e.getDom())}getPageByName(e){for(let s of this.pages)if(s.name==e)return s;return null}constructor(e){this.name=e,this.pages=new Array}},Wl=class{name;freq;peak;filter;offset_enter;offset_leave;calib_max_lap_count;calib_min_rssi_peak;led_color},Ul=(s=>(s[s.AP=0]="AP",s[s.STA=1]="STA",s))(Ul||{}),zl=(s=>(s[s.CONTROLLER=0]="CONTROLLER",s[s.CLIENT=1]="CLIENT",s))(zl||{}),yo=(n=>(n[n.RACE=0]="RACE",n[n.CTF=1]="CTF",n[n.SPECTRUM=2]="SPECTRUM",n))(yo||{}),$n=class{rssi;game_mode;node_name;node_mode;ctrl_ipv4;led_num;elrs_uid;osd_x;osd_y;osd_format;wifi_mode;ssid;passphrase;getValue(e){var s=e.match(/^rssi\[(\d)\]\.(\w+)$/);if(s!==null){let n=s[1],l=s[2];if(this.rssi[n])return Bl(this.rssi[n][l],"")}return Bl(this[e],"")}setValues(e){for(let[n,l]of Object.entries(e)){var s=n.match(/^rssi\[(\d)\]\.(\w+)$/);if(s!==null){let f=s[1],h=s[2];this.rssi||(this.rssi=new Array),this.rssi[f]||(this.rssi[f]=new Wl),this.rssi[f][h]=l}else n.match(/^\w+$/)&&(this[n]=l)}return this}toJsonString(e){var s=new Object;for(let[n,l]of Object.entries(this))if(n==="rssi")for(let f=0;f<this.rssi.length;f++){let h=this.rssi[f];for(let[_,b]of Object.entries(h))s[`rssi[${f}].${_}`]=b}else s[n]=l;return JSON.stringify(s,void 0,e)}async update(e){let s="/api/v1/settings";try{let n=await fetch(s);if(!n.ok)throw new Error(`Response status: ${n.status}`);let l=await n.json();l.config&&(this.setValues(l.config),document.dispatchEvent(new CustomEvent("SFT_CONFIG_UPDATE",{detail:this})),e(this))}catch(n){console.error(n)}}async save(e){let s="/api/v1/settings";try{let n=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:this.toJsonString()});if(!n.ok)Se.showError({msg:`Failed to save config ${n.status}`}),e(null);else{let l=await n.json();l.status!=="ok"?(Se.showError({msg:`Failed to save config ${l.msg}`}),e(null)):(l.config&&this.setValues(l.config),document.dispatchEvent(new CustomEvent("SFT_CONFIG_UPDATE",{detail:this})),e(this),Se.showSuccess({msg:"Configuration saved!"}))}}catch(n){console.error(n.message)}}};var jl=class{name;ipaddr;laps;constructor(e){this.name=e}from(e){return this.name=e.name,this.ipaddr=e.ipaddr,this.laps=e.laps,this}sortLapsByDuration(){this.laps.sort((e,s)=>e.duration-s.duration)}sortLapsById(){this.laps.sort((e,s)=>e.id-s.id)}patchTime(e){for(let s of this.laps)s.abs_time+=e;return this}},Eo=class{_currentMode;_modes;_ws;_players;_root;constructor(){this._modes=new Map,this._currentMode=null,this.initWebsocket(),document.addEventListener("SFT_CONFIG_UPDATE",e=>{this.onConfigUpdate(e.detail)}),new $n().update(()=>{console.debug("GOT CONFIG!")})}initWebsocket(){this._ws&&(this._ws.close(),this._ws=null);let e=`ws://${window.location.hostname}:${window.location.port}/ws/rssi`,s=new WebSocket(e);s.addEventListener("open",()=>{console.debug("WebSocket: connected "+e),this._ws.send(JSON.stringify({type:"hello",msg:"Hello, server!"}))}),s.addEventListener("message",n=>{try{let l=JSON.parse(n.data),f=l;f.type==="rssi"?this.dispatchRSSIUpdateEv(l):f.type==="players"?this.dispatchPlayersUpdateEv(l.players):f.type==="ctf"&&this.dispatchCtfUpdateEv(l.ctf)}catch{console.log("WebSocket: Failed to parse json:"+n.data)}}),s.onclose=()=>{console.debug("WebSocket: disconnected "+e),setTimeout(()=>{this.initWebsocket()},1e3)},this._ws=s}onConfigUpdate(e){var s=this._modes.get(Number(e.game_mode));s!=this._currentMode&&this.changeMode(s)}changeMode(e){this._currentMode=e,this.getDom().replaceChildren(this.drawTabs())}addMode(e,s){this._modes.set(e,s)}drawTabs(){let e=$p({class:"nav nav-tabs"}),s=Sr({class:"tab-content"}),n=this._currentMode;return n?(n.pages.forEach((l,f)=>{let h=Rp({class:"nav-item"},[Vp({class:`nav-link ${f===0?"active":""}`,"data-bs-toggle":"tab",href:`#tab${f+1}`,onclick:()=>{let b=document.getElementById(`tab${f+1}`);b&&n.showPage(l,b)}},l.name)]);e.appendChild(h);let _=Sr({class:`tab-pane fade ${f===0?"show active":""}`,id:`tab${f+1}`});f===0&&_.replaceChildren(l.getDom()),s.appendChild(_)}),Sr(e,s)):Sr({class:"alert alert-danger"},"NO MODE AVAILABLE")}getDom(){return this._root||(this._root=Sr()),this._root}dispatchPlayersUpdateEv(e){var s=new Array;for(let n of e){let l=new jl("").from(n).patchTime(Pn.getOffset());s.push(l)}document.dispatchEvent(new CustomEvent("SFT_PLAYERS_UPDATE",{detail:s}))}dispatchCtfUpdateEv(e){document.dispatchEvent(new CustomEvent("SFT_CTF_UPDATE",{detail:e}))}dispatchRSSIUpdateEv(e){for(let s of e.data)s.t+=Pn.getOffset();document.dispatchEvent(new CustomEvent("SFT_RSSI",{detail:e}))}async requestSettings(){let e="/api/v1/settings";try{let s=await fetch(e);if(!s.ok)throw new Error(`Response status: ${s.status}`);let n=await s.json();return n.status&&n.status.players&&this.dispatchPlayersUpdateEv(n.status.players),n}catch(s){console.error(s.message)}}};var Rb=Il(go());var{h3:D_,label:Ao,form:Hp,select:Fp,input:sa,img:So,fieldset:Co,option:Bp,button:Wp,div:ts,h5:Yc,pre:x_,ul:jp,li:Cr,span:Lo,a:ci,table:N_,thead:M_,tbody:P_,th:k_,tr:I_,td:$_}=qt.tags,Lr=class{hidden;hidden_groups;rssi_min;rssi_max;rssi_label;fieldIsVisible(e){return!this.inArray(this.hidden,e)}groupIsVisible(e){return!this.inArray(this.hidden_groups,e)}inArray(e,s){return!!e.find(n=>n.charAt(0)=="^"?!!s.match(n):n===s)}get getRssiMin(){return this.rssi_min}get getRssiMax(){return this.rssi_max}get getRssiLabel(){return this.rssi_label}constructor(e,s,n,l,f){this.init(e,s,n,l,f)}init(e,s,n,l,f){s||(s=new Array),n||(n=new Array),this.hidden=s,this.hidden_groups=n,this.rssi_min=l||1,this.rssi_max=f||8}},Kl=class extends Lr{init(e,s,n,l,f){super.init(e,s,n,1,1),this.rssi_label="Player Settings",this.hidden.push("rssi[0].led_color"),e.node_mode==0&&(this.hidden.push("ctrl_ipv4"),this.hidden.push("node_name"))}},Yl=class extends Lr{init(e,s,n,l,f){super.init(e,s,n,l,f),this.rssi_label="CTF Teams",this.hidden_groups.push(Or.name),e.node_mode==0?this.hidden.push("ctrl_ipv4"):this.hidden_groups.push(To.name)}},Gl=class extends Lr{init(e,s,n,l,f){super.init(e,s,n,l,f),this.hidden_groups.push(Or.name),this.hidden.push("ctrl_ipv4"),this.hidden.push("node_name"),this.hidden.push("node_mode"),this.hidden.push("^rssi\\[\\d+\\]\\.(?!freq)")}},Ze=class extends EventTarget{fieldname;value;label;help;cfg;visible;constructor(e,s,n,l,f,h){super(),this.visible=s.fieldIsVisible(n),this.fieldname=n,this.value=h||e.getValue(n),this.label=l,f&&(this.help=f)}inputId(){return`id_input_${this.fieldname}`}draw(){return this.visible?this.buildHtmlElement():ts()}buildHtmlElement(){return ts({class:"form-group"},Co(Ao({class:"form-label",for:this.inputId()},this.label,this.help?ci({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},So({src:ai.QUESTION_SVG})):Lo()),sa({class:"form-control",name:this.fieldname,id:this.inputId(),type:"text",value:this.value})))}getValue(){var e=je(this.inputId());if(e){var s=e;return s.value}return String(this.value)}setValue(e){this.value=e;var s=je(this.inputId());if(s){var n=s;n.value=e}}getKeyValue(e){var s=new Object,n=this.getValue();return n&&(s[this.fieldname]=n,e&&(e[this.fieldname]=n)),s}},ql=class extends Ze{buildHtmlElement(){return ts({class:"form-group"},Co(Ao({class:"form-label",for:this.inputId()},this.label,this.help?ci({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},So({src:ai.QUESTION_SVG})):Lo()),sa({class:"form-control",name:this.fieldname,id:this.inputId(),type:"password",value:this.value})))}},Ql=class extends Ze{buildHtmlElement(){var e="#000000",s=this.value||0;return Number.isNaN(s)||(e=bo(s)),ts({class:"form-group"},Co(Ao({class:"form-label",for:this.inputId()},this.label,this.help?ci({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},So({src:ai.QUESTION_SVG})):Lo()),sa({class:"form-control form-control-color",name:this.fieldname,id:this.inputId(),type:"color",value:e})))}getValue(){var e=super.getValue();if(!e)return null;var s=e.match(/#(\w{2})(\w{2})(\w{2})/);if(s){var n=parseInt(s[1],16),l=parseInt(s[2],16),f=parseInt(s[3],16);return e=(n<<16|l<<8|f).toString(),e}return e}},Vi=class extends Ze{options;constructor(e,s,n,l,f,h){super(e,s,n,l,h),this.options=f}buildHtmlElement(){var e=Fp({class:"form-select",name:this.fieldname,id:this.inputId(),onchange:()=>{var n=je(this.inputId());this.dispatchEvent(new CustomEvent("onchange",{detail:{element:this,value:n.value}}))}}),s=this.value;for(let[n,l]of this.options)qt.add(e,Bp({value:n,selected:s==n},l));return ts({class:"form-group"},Co(Ao({class:"form-label",for:this.inputId()},this.label,this.help?ci({style:"margin: 0px 5px","data-toggle":"tooltip","data-trigger":"click",title:this.help},So({src:ai.QUESTION_SVG})):Lo()),e))}},ui=class{label;elements;cfg;visible;constructor(e,s,n){this.label=n,this.cfg=e,this.elements=new Array,this.visible=s.groupIsVisible(this.constructor.name)}addElement(e){return this.elements.push(e),this}buildHtmlElement(){return Cr({class:"list-group-item config-group rounded bg-gradient"},Yc({style:"text-align: right; margin:0"},this.label),this.elements.map(e=>e.draw()))}draw(){return this.visible?this.buildHtmlElement():ts()}getKeyValues(e){var s=new Object;for(let n of this.elements)for(let[l,f]of Object.entries(n.getKeyValue(e)))s[l]=f;return s}findConfigElementById(e){for(let s of this.elements)if(s.fieldname==e)return s;return null}},wo=class extends Ze{constructor(e,s,n,l,f,h){super(e,s,`rssi[${n}].${l}`,f,h)}},Jl=class extends Ze{port;ip;constructor(e,s,n,l,f,h){super(e,s,n,f,h,e.getValue(n)+":"+e.getValue(l)),this.port=l,this.ip=n}getKeyValue(e){var s=new Object,n=this.getValue();if(n){var l=n.split(":");return s[this.ip]=l[0],l.length>1&&(s[this.port]=l[1]),e&&(e[this.ip]=l[0]),l.length>1&&(s[this.port]=l[1]),s}return s}},Xl=class extends ui{constructor(e,s){super(e,s,"General settings");var n=new Vi(e,s,"game_mode","Game mode",Ri(yo)),l=new Ze(e,s,"node_name","Device Name","Used for CTF, could descripe the location of this device");this.addElement(n),this.addElement(l);var f=new Vi(e,s,"node_mode","Device Mode",Ri(zl),"Specify if this is a controller device or a client which connects to a controller."),h=new Jl(e,s,"ctrl_ipv4","ctrl_port","Controller IPv4","The controller IPv4 address to connect to. If value is 0.0.0.0, GW is used.");this.addElement(f),this.addElement(h),this.addElement(new Ze(e,s,"led_num","Number of LEDs"))}},Gc=new Map([["5658","R1 (5658)"],["5695","R2 (5695)"],["5732","R3 (5732)"],["5769","R4 (5769)"],["5806","R5 (5806)"],["5843","R6 (5843)"],["5880","R7 (5880)"],["5917","R8 (5917)"]]),Zl=class extends ui{tablink;tabpane;index;id_prefix="rssi_config_tab_";buildHtmlElement(){return ts(this.elements.map(e=>e.draw()))}getTabLink(){return this.tablink||(this.tablink=Cr({class:"nav-item"},[ci({class:"nav-link","data-bs-toggle":"tab",href:`#${this.id_prefix}${this.index}`},this.label)])),this.tablink}getTabPane(){return this.tabpane||(this.tabpane=ts({class:"tab-pane fade}",id:`${this.id_prefix}${this.index}`},this.draw())),this.tabpane}selectTab(){document.body.contains(this.getTabLink())&&this.getTabLink().firstChild.click()}initFromOther(e){var s=["peak","filter","offset_leave","offset_enter","calib_max_lap_count","calib_min_rssi_peak","led_color"];for(let n of e.elements)for(let l of this.elements){let f=Fl(l.fieldname),h=Fl(n.fieldname);f==h&&s.indexOf(f)>=0&&l.setValue(n.getValue())}}getValue(e){e=`rssi[${this.index}].${e}`;for(let s of this.elements)if(s.fieldname==e)return s.getValue();return null}setValue(e,s){var n=this.findConfigElementById(`rssi[${this.index}].${e}`);n&&n.setValue(s)}constructor(e,s,n){super(e,s,"Player settings"),this.index=n,this.label=(n+1).toString(),this.addElement(new wo(e,s,n,"name","Name")),this.addElement(new Vi(e,s,`rssi[${n}].freq`,"Frequency",Gc)),this.addElement(new Ql(e,s,`rssi[${n}].led_color`,"LED color")),[{label:"RSSI Peak value (default: 1100)",name:"peak",help:"The expected RSSI maximum, when the drone fly through the gate."},{name:"filter",label:"Filter",help:"Smooth the RSSI input signals. Range is 1-100, a value near to 1 smooth more, a value of 100 keeps the raw RSSI value."},{label:"Offset enter (in %)",name:"offset_enter",help:"The percentage of 'RSSI-Peak' to count a drone as entered the gate. The range is 50-100 (Default: 80)"},{label:"Offset leave (in %)",name:"offset_leave",help:"The percentage of 'RSSI-Peak' to count a drone as leaved the gate. The range is 50-100 (Default: 70)"},{label:"Calibration max lap count",name:"calib_max_lap_count",help:"The number of laps to be detected to finish the calibration."},{label:"Calibration min rssi peak",name:"calib_min_rssi_peak",help:"The minimum RSSI value to detect a 'drone enter gate' during calibration."}].forEach(l=>{this.addElement(new wo(e,s,n,l.name,l.label,l.help))})}},To=class extends ui{tabs;tabList;tabContent;plusTabListElement;minusTabListElement;min_tabs;max_tabs;visible_elements;drawTab(e){this.plusTabListElement.insertAdjacentElement("beforebegin",e.getTabLink()),this.tabContent.appendChild(e.getTabPane())}updatePlusMinus(){if(this.max_tabs-this.min_tabs==0){_o(this.tabList);return}vo(this.tabList),this.tabs.length>=this.max_tabs?_o(this.plusTabListElement):vo(this.plusTabListElement),this.tabs.length<=this.min_tabs?_o(this.minusTabListElement):vo(this.minusTabListElement)}addTab(){if(this.tabs.length<this.max_tabs){let e=this.tabs.length,s=new Zl(this.cfg,this.visible_elements,e);if(e>0&&s.getValue("freq")=="0"){s.initFromOther(this.tabs[e-1]);for(let n of Gc.keys())if(!this.tabs.find(l=>l.getValue("freq")==n)){s.setValue("freq",n);break}}this.tabs.push(s),this.drawTab(s),s.selectTab()}else this.tabs[this.tabs.length-1].selectTab();this.updatePlusMinus()}removeTab(){if(this.min_tabs<this.tabs.length){let e=this.tabs.pop();e.getTabPane().remove(),e.getTabLink().remove()}this.tabs[this.tabs.length-1].selectTab(),this.updatePlusMinus()}buildTabElements(){this.tabList=jp({class:"nav nav-tabs"}),this.tabContent=ts({class:"tab-content"}),this.plusTabListElement=Cr({class:"nav-item"},[ci({class:"nav-link","data-bs-toggle":"tab",onclick:()=>{this.addTab()}},"+")]),this.minusTabListElement=Cr({class:"nav-item"},[ci({class:"nav-link","data-bs-toggle":"tab",onclick:()=>{this.removeTab()}},"-")]),this.tabList.appendChild(this.plusTabListElement),this.tabList.appendChild(this.minusTabListElement)}buildHtmlElement(){return Cr({class:"list-group-item config-group rounded bg-gradient"},Yc({style:"text-align: right; margin:0"},this.label),ts(this.tabList,this.tabContent))}draw(){return setTimeout(()=>{this.tabs.length>0&&this.tabs[0].selectTab()},500),this.visible?this.buildHtmlElement():ts()}getKeyValues(e){var s=new Object;for(let n of this.tabs)for(let[l,f]of Object.entries(n.getKeyValues(e)))s[l]=f;for(let n=this.tabs.length;n<8;n++)e&&(e[`rssi[${n}].freq`]="0"),s[`rssi[${n}].freq`]="0";return s}findConfigElementById(e){var s;for(let n of this.tabs)if(s=n.findConfigElementById(e))return s;return null}constructor(e,s){if(super(e,s,s.getRssiLabel),this.visible_elements=s,this.tabs=new Array,this.min_tabs=s.getRssiMin,this.max_tabs=s.getRssiMax,this.visible){this.buildTabElements();for(let n of e.rssi){if(n.freq==0||this.tabs.length>=this.max_tabs)break;this.addTab()}for(;this.tabs.length<this.min_tabs;)this.addTab()}}},Or=class extends ui{constructor(e,s){super(e,s,"expressLRS/OSD"),this.addElement(new Ze(e,s,"elrs_uid","Elrs UID")),this.addElement(new Ze(e,s,"osd_x","X position on OSD")),this.addElement(new Ze(e,s,"osd_y","Y position on OSD")),this.addElement(new Ze(e,s,"osd_format","OSD message format"))}},ta=class extends ui{constructor(e,s){super(e,s,"WiFi Settings"),this.addElement(new Vi(e,s,"wifi_mode","WIFI Mode",Ri(Ul))),this.addElement(new Ze(e,s,"ssid","SSID")),this.addElement(new ql(e,s,"passphrase","Passphrase"))}},ea=class{groups;root;visible;findConfigElementById(e){for(let n of this.groups){var s=n.findConfigElementById(e);if(s)return s}return null}visibleByGameMode(e){switch(Number(e.game_mode)){case 0:return new Kl(e);case 1:return new Yl(e);case 2:return new Gl(e);default:console.error("Unhandled game_mode: "+e.game_mode)}return null}draw(){return this.root}submitButton(){return ts({class:"mb-3",style:"margin: 5px 3px"},Wp({class:"btn btn-primary",type:"button",id:"config_submit_btn_id",onclick:()=>{var e=je("config_submit_btn_id");e.disabled=!0,e.classList.add("disabled");var s=new $n;s.setValues(this.getKeyValues()),s.save(n=>{n&&this.updateForm(n),e.classList.remove("disabled"),e.disabled=!1})}},"Submit"))}updateRoot(){this.root.replaceChildren(Hp(this.groups.map(e=>e.draw()),this.submitButton()))}getKeyValues(e){var s=new Object;for(let n of this.groups)for(let[l,f]of Object.entries(n.getKeyValues(e)))s[l]=f;return s}updateForm(e){this.groups=new Array,this.visible?this.visible.init(e):this.visible=this.visibleByGameMode(e),this.groups.push(new Xl(e,this.visible)),this.groups.push(new To(e,this.visible)),this.groups.push(new Or(e,this.visible)),this.groups.push(new ta(e,this.visible));var s=this.findConfigElementById("game_mode");s&&s.addEventListener("onchange",()=>{var l=new $n;l.setValues(this.getKeyValues()),this.updateForm(l)});var n=this.findConfigElementById("node_mode");n&&n.addEventListener("onchange",()=>{var l=new $n;l.setValues(this.getKeyValues()),this.updateForm(l)}),this.updateRoot()}constructor(e,s){this.root=ts(),s&&(this.visible=s),this.updateForm(e)}},Rn=class extends Re{root;getDom(){this.root||(this.root=ts());var e=new $n;return e.update(s=>{this.root.replaceChildren(new ea(s).draw())}),this.root}constructor(){super("Config")}};var{button:j_,div:Up,pre:U_,ul:z_,li:K_,a:Y_,table:zp,thead:Kp,tbody:Yp,th:Gp,tr:qc,td:Oo}=qt.tags,na=class{player;lap;draw(e){return qc(e,Oo(this.player.name),Oo(this.lap.id),Oo(kn(this.lap.duration)),Oo(this.lap.rssi))}constructor(e,s){this.player=e,this.lap=s}},Do=class{headline;laps;addRow(e){this.laps.push(e)}sortByDuration(){this.laps.sort((e,s)=>e.lap.duration-s.lap.duration)}sortByAbsTime(){this.laps.sort((e,s)=>s.lap.abs_time-e.lap.abs_time)}draw(){this.sortByDuration();var e=this.laps[0],s=this.laps[1],n=this.laps[2];let l=qc({class:"table-secondary"});this.headline.forEach(b=>{l.append(Gp({scope:"col"},b))});let f=Kp(l),h=Yp();return this.laps.forEach(b=>{var v=b.draw();b==e?v.getElementsByTagName("td").item(2).innerHTML+="&#129351;":b==s?v.getElementsByTagName("td").item(2).innerHTML+="&#129352;":b==n&&(v.getElementsByTagName("td").item(2).innerHTML+="&#129353;"),h.append(v)}),zp({class:"table table-striped table-sm table-dark"},f,h)}constructor(){this.headline=["Pilot","Lap#","Duration","RSSI"],this.laps=new Array}},xo=class extends Re{root;lapsTable;getDom(){return this.root||(this.root=Up(this.lapsTable.draw())),this.root}onPlayersUpdate(e){this.lapsTable=new Do,e.forEach(s=>{s.laps.forEach(n=>{this.lapsTable.addRow(new na(s,n))})}),this.lapsTable.sortByAbsTime(),this.getDom().replaceChildren(this.lapsTable.draw())}constructor(){super("Laps"),this.lapsTable=new Do,document.addEventListener("SFT_PLAYERS_UPDATE",e=>{this.onPlayersUpdate(e.detail)})}};var{h3:ev,label:sv,select:qp,option:Qp,button:Jp,div:es,h5:Xp,input:Zp,pre:nv,ul:iv,li:rv,span:Dr,a:tm,table:ov,thead:lv,tbody:av,th:cv,tr:uv,td:fv}=qt.tags,Qc=(v=>(v[v.OneLap=0]="OneLap",v[v.TwoLaps=1]="TwoLaps",v[v.ThreeLaps=2]="ThreeLaps",v[v.MaxLaps=3]="MaxLaps",v[v.FastesLap=4]="FastesLap",v[v.FastesTwoLaps=5]="FastesTwoLaps",v[v.FastesThreeLaps=6]="FastesThreeLaps",v[v.FastesTwoContinousLaps=7]="FastesTwoContinousLaps",v[v.FastesThreeContinousLaps=8]="FastesThreeContinousLaps",v))(Qc||{});var Hi=class{player;ranking;counted_laps;constructor(e,s){this.player=e,this.ranking=s,this.counted_laps=new Array}compare(e){return e.ranking-this.ranking}drawLap(e,s,n){return es({class:"card-text border rounded ",style:`margin: 3px; ${n}`},Dr({style:"font-weight: bold; border-right: 1px solid grey; margin: 0px 5px; min-width: 40px; display: inline-block;"},e),Dr(s))}drawLapInfo(){var e=this.counted_laps.length>0?this.counted_laps:this.player.laps,s=es();if(e.length>1){var n=0;for(let l of e)n+=l.duration;s=this.drawLap("SUM",kn(n),"font-weight: bold;")}return es(e.map(l=>this.drawLap(l.id.toString(),kn(l.duration))),s)}};function em(i,e){return i.ranking-e.ranking}var ia=class extends Hi{constructor(e,s){var n=new Array;e.sortLapsByDuration();var l=0;e.laps.length>=s?e.laps.forEach((f,h)=>{h<s&&(l+=f.duration,n.push(f))}):l=Number.MAX_VALUE,super(e,l),this.counted_laps=n}},ra=class extends Hi{constructor(e,s){var n=new Array;e.sortLapsById();var l=0;e.laps.length>=s?e.laps.forEach((f,h)=>{h<s&&(l+=f.duration,n.push(f))}):l=Number.MAX_VALUE,super(e,l),this.counted_laps=n}},oa=class extends Hi{constructor(e,s){var n=new Array;e.laps.forEach((l,f)=>{var h=0,_=new Array;if(f+s<=e.laps.length)for(let b=0;b<s;b++)h+=e.laps[f+b].duration,_.push(e.laps[f+b]);else h=Number.MAX_VALUE;n.push({laps:_,duration_sum:h})}),n.sort((l,f)=>l.duration_sum-f.duration_sum),super(e,n.length>0?n[0].duration_sum:Number.MAX_VALUE),n.length>0&&(this.counted_laps=n[0].laps)}},No=class extends Re{root;playersDom;actionsDom;players;racemode;async startRace(){let e="/api/v1/clear_laps",s=je("input_start_race_offset");var n=3e4;s&&(Number.isNaN(Number(s.value))||(n=Number(s.value)*1e3));let l=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify({offset:n})});l.ok?(document.dispatchEvent(new CustomEvent("SFT_PLAYERS_UPDATE",{detail:new Array})),Se.showSuccess({msg:"Laps cleared, \u{1F3C1}\u{1F3C1}\u{1F3C1} RACE \u{1F3C1}\u{1F3C1}\u{1F3C1}"})):Se.showError({msg:`Failed to save config ${l.status}`})}getActionsDom(){return this.actionsDom||(this.actionsDom=es(es({class:"mb-3",style:"margin: 5px 3px"},es({class:"input-group flex-nowrap"},Dr({class:"input-group-text",id:"inputGroup-sizing-default"},"Race mode"),qp({class:"form-select",id:"select_race_mode",onchange:()=>{var e=je("select_race_mode");this.racemode=Number(e.value),this.onPlayersUpdate(this.players.map(s=>s.player))}},Array.from(Ri(Qc)).map(([e,s])=>Qp({value:e},s.replace(/([A-Z])/g," $1"))))),es({class:"form-text"},"Select race mode to set the evaluation of the laps.")),es({class:"mb-3",style:"margin: 5px 3px"},es({class:"input-group flex-nowrap"},Jp({class:"btn btn-primary",type:"button",onclick:()=>{this.startRace()}},"Start Race"),Dr({class:"input-group-text"},"in"),Zp({class:"input-group-text",value:"30",id:"input_start_race_offset"}),Dr({class:"input-group-text"},"sec"))))),this.actionsDom}getPlayersDom(){return this.playersDom||(this.playersDom=es()),this.playersDom}getDom(){return this.root||(this.root=es(this.getActionsDom(),this.getPlayersDom())),this.root}drawPlayerRanking(e){var s=e.ranking==1?"\u{1F3C6}":e.ranking==2?"\u{1F948}":e.ranking==3?"\u{1F949}":e.ranking==Number.MAX_VALUE?"":e.ranking+".",n=es({class:"card",style:"margin: 5px;"},Xp({class:"card-header"},s+" "+e.player.name,tm({class:"btn btn-secondary btn-sm",style:"float:right",role:"button",href:"http://"+e.player.ipaddr},"\u2699\uFE0F")),es({class:"card-text",style:"font-weight: bold;"},"Laps:"),e.drawLapInfo());return n}sortPlayersByFastesLap(e,s){var n=new Array;return e.forEach(l=>{n.push(new ia(l,s))}),n}sortPlayersByLap(e,s){var n=new Array;return e.forEach(l=>{n.push(new ra(l,s))}),n}sortPlayersByMaxLap(e){var s=new Array;return e.sort((n,l)=>{if(n.laps.length==l.laps.length){var f=0,h=0;for(let _ of n.laps)f+=_.duration;for(let _ of l.laps)h+=_.duration;return f-h}return l.laps.length-n.laps.length}),e.forEach((n,l)=>{s.push(new Hi(n,l))}),s}sortPlayersByContinousLaps(e,s){var n=new Array;return e.forEach(l=>{n.push(new oa(l,s))}),n}sortPlayersByMode(e,s){switch(s){case 4:return this.sortPlayersByFastesLap(e,1);case 5:return this.sortPlayersByFastesLap(e,2);case 6:return this.sortPlayersByFastesLap(e,3);case 0:return this.sortPlayersByLap(e,1);case 1:return this.sortPlayersByLap(e,2);case 2:return this.sortPlayersByLap(e,3);case 3:return this.sortPlayersByMaxLap(e);case 7:return this.sortPlayersByContinousLaps(e,2);case 8:return this.sortPlayersByContinousLaps(e,3);default:return this.sortPlayersByFastesLap(e,1)}}playersToRanking(e,s){var n=this.sortPlayersByMode(e,s);n.sort(em);var l=1;for(let f of n)f.ranking!=Number.MAX_VALUE&&(f.ranking=l),l+=1;return n.sort((f,h)=>f.player.name.localeCompare(h.player.name)),n}onPlayersUpdate(e){this.players=this.playersToRanking(e,this.racemode);var s=es();this.players.forEach(n=>{s.appendChild(this.drawPlayerRanking(n))}),this.getPlayersDom().replaceChildren(s)}constructor(){super("Players"),this.racemode=4,this.players=new Array,document.addEventListener("SFT_PLAYERS_UPDATE",e=>{e.detail&&this.onPlayersUpdate(e.detail)})}};var Ee="u-",sm="uplot",nm=Ee+"hz",im=Ee+"vt",rm=Ee+"title",om=Ee+"wrap",lm=Ee+"under",am=Ee+"over",cm=Ee+"axis",di=Ee+"off",um=Ee+"select",fm=Ee+"cursor-x",hm=Ee+"cursor-y",dm=Ee+"cursor-pt",pm=Ee+"legend",mm=Ee+"live",gm=Ee+"inline",_m=Ee+"series",vm=Ee+"marker",Jc=Ee+"label",bm=Ee+"value",Mr="width",Pr="height",xr="top",Xc="bottom",Fi="left",la="right",Ta="#000",Zc=Ta+"0",tu="mousemove",eu="mousedown",aa="mouseup",su="mouseenter",nu="mouseleave",iu="dblclick",Em="resize",ym="scroll",ru="change",$o="dppxchange",Aa="--",Yi=typeof window<"u",da=Yi?document:null,Wi=Yi?window:null,wm=Yi?navigator:null,St,Mo;function pa(){let i=devicePixelRatio;St!=i&&(St=i,Mo&&ga(ru,Mo,pa),Mo=matchMedia(`(min-resolution: ${St-.001}dppx) and (max-resolution: ${St+.001}dppx)`),pi(ru,Mo,pa),Wi.dispatchEvent(new CustomEvent($o)))}function fs(i,e){if(e!=null){let s=i.classList;!s.contains(e)&&s.add(e)}}function ma(i,e){let s=i.classList;s.contains(e)&&s.remove(e)}function zt(i,e,s){i.style[e]=s+"px"}function Ps(i,e,s,n){let l=da.createElement(i);return e!=null&&fs(l,e),s?.insertBefore(l,n),l}function ys(i,e){return Ps("div",i,e)}var ou=new WeakMap;function Js(i,e,s,n,l){let f="translate("+e+"px,"+s+"px)",h=ou.get(i);f!=h&&(i.style.transform=f,ou.set(i,f),e<0||s<0||e>n||s>l?fs(i,di):ma(i,di))}var lu=new WeakMap;function au(i,e,s){let n=e+s,l=lu.get(i);n!=l&&(lu.set(i,n),i.style.background=e,i.style.borderColor=s)}var cu=new WeakMap;function uu(i,e,s,n){let l=e+""+s,f=cu.get(i);l!=f&&(cu.set(i,l),i.style.height=s+"px",i.style.width=e+"px",i.style.marginLeft=n?-e/2+"px":0,i.style.marginTop=n?-s/2+"px":0)}var Sa={passive:!0},Tm={...Sa,capture:!0};function pi(i,e,s,n){e.addEventListener(i,s,n?Tm:Sa)}function ga(i,e,s,n){e.removeEventListener(i,s,Sa)}Yi&&pa();function ks(i,e,s,n){let l;s=s||0,n=n||e.length-1;let f=n<=2147483647;for(;n-s>1;)l=f?s+n>>1:hs((s+n)/2),e[l]<i?s=l:n=l;return i-e[s]<=e[n]-i?s:n}function Vu(i){return(s,n,l)=>{let f=-1,h=-1;for(let _=n;_<=l;_++)if(i(s[_])){f=_;break}for(let _=l;_>=n;_--)if(i(s[_])){h=_;break}return[f,h]}}var Hu=i=>i!=null,Fu=i=>i!=null&&i>0,Ho=Vu(Hu),Am=Vu(Fu);function Sm(i,e,s,n=0,l=!1){let f=l?Am:Ho,h=l?Fu:Hu;[e,s]=f(i,e,s);let _=i[e],b=i[e];if(e>-1)if(n==1)_=i[e],b=i[s];else if(n==-1)_=i[s],b=i[e];else for(let v=e;v<=s;v++){let S=i[v];h(S)&&(S<_?_=S:S>b&&(b=S))}return[_??Vt,b??-Vt]}function Fo(i,e,s,n){let l=du(i),f=du(e);i==e&&(l==-1?(i*=s,e/=s):(i/=s,e*=s));let h=s==10?gn:Bu,_=l==1?hs:ws,b=f==1?ws:hs,v=_(h(be(i))),S=b(h(be(e))),y=ji(s,v),A=ji(s,S);return s==10&&(v<0&&(y=Ht(y,-v)),S<0&&(A=Ht(A,-S))),n||s==2?(i=y*l,e=A*f):(i=Uu(i,y),e=Bo(e,A)),[i,e]}function Ca(i,e,s,n){let l=Fo(i,e,s,n);return i==0&&(l[0]=0),e==0&&(l[1]=0),l}var La=.1,fu={mode:3,pad:La},Ir={pad:0,soft:null,mode:0},Cm={min:Ir,max:Ir};function Ro(i,e,s,n){return Wo(s)?hu(i,e,s):(Ir.pad=s,Ir.soft=n?0:null,Ir.mode=n?3:0,hu(i,e,Cm))}function Tt(i,e){return i??e}function Lm(i,e,s){for(e=Tt(e,0),s=Tt(s,i.length-1);e<=s;){if(i[e]!=null)return!0;e++}return!1}function hu(i,e,s){let n=s.min,l=s.max,f=Tt(n.pad,0),h=Tt(l.pad,0),_=Tt(n.hard,-Vt),b=Tt(l.hard,Vt),v=Tt(n.soft,Vt),S=Tt(l.soft,-Vt),y=Tt(n.mode,0),A=Tt(l.mode,0),P=e-i,H=gn(P),K=Ue(be(i),be(e)),q=gn(K),et=be(q-H);(P<1e-24||et>10)&&(P=0,(i==0||e==0)&&(P=1e-24,y==2&&v!=Vt&&(f=0),A==2&&S!=-Vt&&(h=0)));let k=P||K||1e3,Q=gn(k),N=ji(10,hs(Q)),Z=k*(P==0?i==0?.1:1:f),$=Ht(Uu(i-Z,N/10),24),ht=i>=v&&(y==1||y==3&&$<=v||y==2&&$>=v)?v:Vt,it=Ue(_,$<ht&&i>=ht?ht:Is(ht,$)),ft=k*(P==0?e==0?.1:1:h),F=Ht(Bo(e+ft,N/10),24),X=e<=S&&(A==1||A==3&&F>=S||A==2&&F<=S)?S:-Vt,st=Is(b,F>X&&e<=X?X:Ue(X,F));return it==st&&it==0&&(st=100),[it,st]}var Om=new Intl.NumberFormat(Yi?wm.language:"en-US"),Oa=i=>Om.format(i),ds=Math,Io=ds.PI,be=ds.abs,hs=ds.floor,ve=ds.round,ws=ds.ceil,Is=ds.min,Ue=ds.max,ji=ds.pow,du=ds.sign,gn=ds.log10,Bu=ds.log2,Dm=(i,e=1)=>ds.sinh(i)*e,ca=(i,e=1)=>ds.asinh(i/e),Vt=1/0;function pu(i){return(gn((i^i>>31)-(i>>31))|0)+1}function _a(i,e,s){return Is(Ue(i,e),s)}function Et(i){return typeof i=="function"?i:()=>i}var xm=()=>{},Wu=i=>i,ju=(i,e)=>e,mu=i=>!0,gu=(i,e)=>i==e,Nm=/\.\d*?(?=9{6,}|0{6,})/gm,mi=i=>{if(Ku(i)||Hn.has(i))return i;let e=`${i}`,s=e.match(Nm);if(s==null)return i;let n=s[0].length-1;if(e.indexOf("e-")!=-1){let[l,f]=e.split("e");return+`${mi(l)}e${f}`}return Ht(i,n)};function fi(i,e){return mi(Ht(mi(i/e))*e)}function Bo(i,e){return mi(ws(mi(i/e))*e)}function Uu(i,e){return mi(hs(mi(i/e))*e)}function Ht(i,e=0){if(Ku(i))return i;let s=10**e,n=i*s*(1+Number.EPSILON);return ve(n)/s}var Hn=new Map;function zu(i){return((""+i).split(".")[1]||"").length}function Rr(i,e,s,n){let l=[],f=n.map(zu);for(let h=e;h<s;h++){let _=be(h),b=Ht(ji(i,h),_);for(let v=0;v<n.length;v++){let S=i==10?+`${n[v]}e${h}`:n[v]*b,y=(h>=0?0:_)+(h>=f[v]?0:f[v]),A=i==10?S:Ht(S,y);l.push(A),Hn.set(A,y)}}return l}var $r={},Da=[],Ui=[null,null],Vn=Array.isArray,Ku=Number.isInteger,Mm=i=>i===void 0;function _u(i){return typeof i=="string"}function Wo(i){let e=!1;if(i!=null){let s=i.constructor;e=s==null||s==Object}return e}function Pm(i){return i!=null&&typeof i=="object"}var km=Object.getPrototypeOf(Uint8Array),Yu="__proto__";function zi(i,e=Wo){let s;if(Vn(i)){let n=i.find(l=>l!=null);if(Vn(n)||e(n)){s=Array(i.length);for(let l=0;l<i.length;l++)s[l]=zi(i[l],e)}else s=i.slice()}else if(i instanceof km)s=i.slice();else if(e(i)){s={};for(let n in i)n!=Yu&&(s[n]=zi(i[n],e))}else s=i;return s}function he(i){let e=arguments;for(let s=1;s<e.length;s++){let n=e[s];for(let l in n)l!=Yu&&(Wo(i[l])?he(i[l],zi(n[l])):i[l]=zi(n[l]))}return i}var Im=0,$m=1,Rm=2;function Vm(i,e,s){for(let n=0,l,f=-1;n<e.length;n++){let h=e[n];if(h>f){for(l=h-1;l>=0&&i[l]==null;)i[l--]=null;for(l=h+1;l<s&&i[l]==null;)i[f=l++]=null}}}function Hm(i,e){if(Wm(i)){let h=i[0].slice();for(let _=1;_<i.length;_++)h.push(...i[_].slice(1));return jm(h[0])||(h=Bm(h)),h}let s=new Set;for(let h=0;h<i.length;h++){let b=i[h][0],v=b.length;for(let S=0;S<v;S++)s.add(b[S])}let n=[Array.from(s).sort((h,_)=>h-_)],l=n[0].length,f=new Map;for(let h=0;h<l;h++)f.set(n[0][h],h);for(let h=0;h<i.length;h++){let _=i[h],b=_[0];for(let v=1;v<_.length;v++){let S=_[v],y=Array(l).fill(void 0),A=e?e[h][v]:$m,P=[];for(let H=0;H<S.length;H++){let K=S[H],q=f.get(b[H]);K===null?A!=Im&&(y[q]=K,A==Rm&&P.push(q)):y[q]=K}Vm(y,P,l),n.push(y)}}return n}var Fm=typeof queueMicrotask>"u"?i=>Promise.resolve().then(i):queueMicrotask;function Bm(i){let e=i[0],s=e.length,n=Array(s);for(let f=0;f<n.length;f++)n[f]=f;n.sort((f,h)=>e[f]-e[h]);let l=[];for(let f=0;f<i.length;f++){let h=i[f],_=Array(s);for(let b=0;b<s;b++)_[b]=h[n[b]];l.push(_)}return l}function Wm(i){let e=i[0][0],s=e.length;for(let n=1;n<i.length;n++){let l=i[n][0];if(l.length!=s)return!1;if(l!=e){for(let f=0;f<s;f++)if(l[f]!=e[f])return!1}}return!0}function jm(i,e=100){let s=i.length;if(s<=1)return!0;let n=0,l=s-1;for(;n<=l&&i[n]==null;)n++;for(;l>=n&&i[l]==null;)l--;if(l<=n)return!0;let f=Ue(1,hs((l-n+1)/e));for(let h=i[n],_=n+f;_<=l;_+=f){let b=i[_];if(b!=null){if(b<=h)return!1;h=b}}return!0}var Gu=["January","February","March","April","May","June","July","August","September","October","November","December"],qu=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function Qu(i){return i.slice(0,3)}var Um=qu.map(Qu),zm=Gu.map(Qu),Km={MMMM:Gu,MMM:zm,WWWW:qu,WWW:Um};function Nr(i){return(i<10?"0":"")+i}function Ym(i){return(i<10?"00":i<100?"0":"")+i}var Gm={YYYY:i=>i.getFullYear(),YY:i=>(i.getFullYear()+"").slice(2),MMMM:(i,e)=>e.MMMM[i.getMonth()],MMM:(i,e)=>e.MMM[i.getMonth()],MM:i=>Nr(i.getMonth()+1),M:i=>i.getMonth()+1,DD:i=>Nr(i.getDate()),D:i=>i.getDate(),WWWW:(i,e)=>e.WWWW[i.getDay()],WWW:(i,e)=>e.WWW[i.getDay()],HH:i=>Nr(i.getHours()),H:i=>i.getHours(),h:i=>{let e=i.getHours();return e==0?12:e>12?e-12:e},AA:i=>i.getHours()>=12?"PM":"AM",aa:i=>i.getHours()>=12?"pm":"am",a:i=>i.getHours()>=12?"p":"a",mm:i=>Nr(i.getMinutes()),m:i=>i.getMinutes(),ss:i=>Nr(i.getSeconds()),s:i=>i.getSeconds(),fff:i=>Ym(i.getMilliseconds())};function xa(i,e){e=e||Km;let s=[],n=/\{([a-z]+)\}|[^{]+/gi,l;for(;l=n.exec(i);)s.push(l[0][0]=="{"?Gm[l[1]]:l[0]);return f=>{let h="";for(let _=0;_<s.length;_++)h+=typeof s[_]=="string"?s[_]:s[_](f,e);return h}}var qm=new Intl.DateTimeFormat().resolvedOptions().timeZone;function Qm(i,e){let s;return e=="UTC"||e=="Etc/UTC"?s=new Date(+i+i.getTimezoneOffset()*6e4):e==qm?s=i:(s=new Date(i.toLocaleString("en-US",{timeZone:e})),s.setMilliseconds(i.getMilliseconds())),s}var Ju=i=>i%1==0,Vo=[1,2,2.5,5],Jm=Rr(10,-32,0,Vo),Xu=Rr(10,0,32,Vo),Xm=Xu.filter(Ju),hi=Jm.concat(Xu),Na=`
`,Zu="{YYYY}",vu=Na+Zu,tf="{M}/{D}",kr=Na+tf,Po=kr+"/{YY}",ef="{aa}",Zm="{h}:{mm}",Bi=Zm+ef,bu=Na+Bi,Eu=":{ss}",Lt=null;function sf(i){let e=i*1e3,s=e*60,n=s*60,l=n*24,f=l*30,h=l*365,b=(i==1?Rr(10,0,3,Vo).filter(Ju):Rr(10,-3,0,Vo)).concat([e,e*5,e*10,e*15,e*30,s,s*5,s*10,s*15,s*30,n,n*2,n*3,n*4,n*6,n*8,n*12,l,l*2,l*3,l*4,l*5,l*6,l*7,l*8,l*9,l*10,l*15,f,f*2,f*3,f*4,f*6,h,h*2,h*5,h*10,h*25,h*50,h*100]),v=[[h,Zu,Lt,Lt,Lt,Lt,Lt,Lt,1],[l*28,"{MMM}",vu,Lt,Lt,Lt,Lt,Lt,1],[l,tf,vu,Lt,Lt,Lt,Lt,Lt,1],[n,"{h}"+ef,Po,Lt,kr,Lt,Lt,Lt,1],[s,Bi,Po,Lt,kr,Lt,Lt,Lt,1],[e,Eu,Po+" "+Bi,Lt,kr+" "+Bi,Lt,bu,Lt,1],[i,Eu+".{fff}",Po+" "+Bi,Lt,kr+" "+Bi,Lt,bu,Lt,1]];function S(y){return(A,P,H,K,q,et)=>{let k=[],Q=q>=h,N=q>=f&&q<h,Z=y(H),$=Ht(Z*i,3),ht=ua(Z.getFullYear(),Q?0:Z.getMonth(),N||Q?1:Z.getDate()),it=Ht(ht*i,3);if(N||Q){let ft=N?q/f:0,F=Q?q/h:0,X=$==it?$:Ht(ua(ht.getFullYear()+F,ht.getMonth()+ft,1)*i,3),st=new Date(ve(X/i)),G=st.getFullYear(),U=st.getMonth();for(let at=0;X<=K;at++){let yt=ua(G+F*at,U+ft*at,1),J=yt-y(Ht(yt*i,3));X=Ht((+yt+J)*i,3),X<=K&&k.push(X)}}else{let ft=q>=l?l:q,F=hs(H)-hs($),X=it+F+Bo($-it,ft);k.push(X);let st=y(X),G=st.getHours()+st.getMinutes()/s+st.getSeconds()/n,U=q/n,at=A.axes[P]._space,yt=et/at;for(;X=Ht(X+q,i==1?0:3),!(X>K);)if(U>1){let J=hs(Ht(G+U,6))%24,ot=y(X).getHours()-J;ot>1&&(ot=-1),X-=ot*n,G=(G+U)%24;let mt=k[k.length-1];Ht((X-mt)/q,3)*yt>=.7&&k.push(X)}else k.push(X)}return k}}return[b,v,S]}var[tg,eg,sg]=sf(1),[ng,ig,rg]=sf(.001);Rr(2,-53,53,[1]);function yu(i,e){return i.map(s=>s.map((n,l)=>l==0||l==8||n==null?n:e(l==1||s[8]==0?n:s[1]+n)))}function wu(i,e){return(s,n,l,f,h)=>{let _=e.find(H=>h>=H[0])||e[e.length-1],b,v,S,y,A,P;return n.map(H=>{let K=i(H),q=K.getFullYear(),et=K.getMonth(),k=K.getDate(),Q=K.getHours(),N=K.getMinutes(),Z=K.getSeconds(),$=q!=b&&_[2]||et!=v&&_[3]||k!=S&&_[4]||Q!=y&&_[5]||N!=A&&_[6]||Z!=P&&_[7]||_[1];return b=q,v=et,S=k,y=Q,A=N,P=Z,$(K)})}}function og(i,e){let s=xa(e);return(n,l,f,h,_)=>l.map(b=>s(i(b)))}function ua(i,e,s){return new Date(i,e,s)}function Tu(i,e){return e(i)}var lg="{YYYY}-{MM}-{DD} {h}:{mm}{aa}";function Au(i,e){return(s,n,l,f)=>f==null?Aa:e(i(n))}function ag(i,e){let s=i.series[e];return s.width?s.stroke(i,e):s.points.width?s.points.stroke(i,e):null}function cg(i,e){return i.series[e].fill(i,e)}var ug={show:!0,live:!0,isolate:!1,mount:xm,markers:{show:!0,width:2,stroke:ag,fill:cg,dash:"solid"},idx:null,idxs:null,values:[]};function fg(i,e){let s=i.cursor.points,n=ys(),l=s.size(i,e);zt(n,Mr,l),zt(n,Pr,l);let f=l/-2;zt(n,"marginLeft",f),zt(n,"marginTop",f);let h=s.width(i,e,l);return h&&zt(n,"borderWidth",h),n}function hg(i,e){let s=i.series[e].points;return s._fill||s._stroke}function dg(i,e){let s=i.series[e].points;return s._stroke||s._fill}function pg(i,e){return i.series[e].points.size}var fa=[0,0];function mg(i,e,s){return fa[0]=e,fa[1]=s,fa}function ko(i,e,s,n=!0){return l=>{l.button==0&&(!n||l.target==e)&&s(l)}}function ha(i,e,s,n=!0){return l=>{(!n||l.target==e)&&s(l)}}var gg={show:!0,x:!0,y:!0,lock:!1,move:mg,points:{one:!1,show:fg,size:pg,width:0,stroke:dg,fill:hg},bind:{mousedown:ko,mouseup:ko,click:ko,dblclick:ko,mousemove:ha,mouseleave:ha,mouseenter:ha},drag:{setScale:!0,x:!0,y:!1,dist:0,uni:null,click:(i,e)=>{e.stopPropagation(),e.stopImmediatePropagation()},_x:!1,_y:!1},focus:{dist:(i,e,s,n,l)=>n-l,prox:-1,bias:0},hover:{skip:[void 0],prox:null,bias:0},left:-10,top:-10,idx:null,dataIdx:null,idxs:null,event:null},nf={show:!0,stroke:"rgba(0,0,0,0.07)",width:2},Ma=he({},nf,{filter:ju}),rf=he({},Ma,{size:10}),of=he({},nf,{show:!1}),Pa='12px system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"',lf="bold "+Pa,af=1.5,Su={show:!0,scale:"x",stroke:Ta,space:50,gap:5,size:50,labelGap:0,labelSize:30,labelFont:lf,side:2,grid:Ma,ticks:rf,border:of,font:Pa,lineGap:af,rotate:0},_g="Value",vg="Time",Cu={show:!0,scale:"x",auto:!1,sorted:1,min:Vt,max:-Vt,idxs:[]};function bg(i,e,s,n,l){return e.map(f=>f==null?"":Oa(f))}function Eg(i,e,s,n,l,f,h){let _=[],b=Hn.get(l)||0;s=h?s:Ht(Bo(s,l),b);for(let v=s;v<=n;v=Ht(v+l,b))_.push(Object.is(v,-0)?0:v);return _}function va(i,e,s,n,l,f,h){let _=[],b=i.scales[i.axes[e].scale].log,v=b==10?gn:Bu,S=hs(v(s));l=ji(b,S),b==10&&(l=hi[ks(l,hi)]);let y=s,A=l*b;b==10&&(A=hi[ks(A,hi)]);do _.push(y),y=y+l,b==10&&!Hn.has(y)&&(y=Ht(y,Hn.get(l))),y>=A&&(l=y,A=l*b,b==10&&(A=hi[ks(A,hi)]));while(y<=n);return _}function yg(i,e,s,n,l,f,h){let b=i.scales[i.axes[e].scale].asinh,v=n>b?va(i,e,Ue(b,s),n,l):[b],S=n>=0&&s<=0?[0]:[];return(s<-b?va(i,e,Ue(b,-n),-s,l):[b]).reverse().map(A=>-A).concat(S,v)}var cf=/./,wg=/[12357]/,Tg=/[125]/,Lu=/1/,ba=(i,e,s,n)=>i.map((l,f)=>e==4&&l==0||f%n==0&&s.test(l.toExponential()[l<0?1:0])?l:null);function Ag(i,e,s,n,l){let f=i.axes[s],h=f.scale,_=i.scales[h],b=i.valToPos,v=f._space,S=b(10,h),y=b(9,h)-S>=v?cf:b(7,h)-S>=v?wg:b(5,h)-S>=v?Tg:Lu;if(y==Lu){let A=be(b(1,h)-S);if(A<v)return ba(e.slice().reverse(),_.distr,y,ws(v/A)).reverse()}return ba(e,_.distr,y,1)}function Sg(i,e,s,n,l){let f=i.axes[s],h=f.scale,_=f._space,b=i.valToPos,v=be(b(1,h)-b(2,h));return v<_?ba(e.slice().reverse(),3,cf,ws(_/v)).reverse():e}function Cg(i,e,s,n){return n==null?Aa:e==null?"":Oa(e)}var Ou={show:!0,scale:"y",stroke:Ta,space:30,gap:5,size:50,labelGap:0,labelSize:30,labelFont:lf,side:3,grid:Ma,ticks:rf,border:of,font:Pa,lineGap:af,rotate:0};function Lg(i,e){let s=3+(i||1)*2;return Ht(s*e,3)}function Og(i,e){let{scale:s,idxs:n}=i.series[0],l=i._data[0],f=i.valToPos(l[n[0]],s,!0),h=i.valToPos(l[n[1]],s,!0),_=be(h-f),b=i.series[e],v=_/(b.points.space*St);return n[1]-n[0]<=v}var Du={scale:null,auto:!0,sorted:0,min:Vt,max:-Vt},uf=(i,e,s,n,l)=>l,xu={show:!0,auto:!0,sorted:0,gaps:uf,alpha:1,facets:[he({},Du,{scale:"x"}),he({},Du,{scale:"y"})]},Nu={scale:"y",auto:!0,sorted:0,show:!0,spanGaps:!1,gaps:uf,alpha:1,points:{show:Og,filter:null},values:null,min:Vt,max:-Vt,idxs:[],path:null,clip:null};function Dg(i,e,s,n,l){return s/10}var ff={time:!0,auto:!0,distr:1,log:10,asinh:1,min:null,max:null,dir:1,ori:0},xg=he({},ff,{time:!1,ori:1}),Mu={};function hf(i,e){let s=Mu[i];return s||(s={key:i,plots:[],sub(n){s.plots.push(n)},unsub(n){s.plots=s.plots.filter(l=>l!=n)},pub(n,l,f,h,_,b,v){for(let S=0;S<s.plots.length;S++)s.plots[S]!=l&&s.plots[S].pub(n,l,f,h,_,b,v)}},i!=null&&(Mu[i]=s)),s}var Ki=1,Ea=2;function gi(i,e,s){let n=i.mode,l=i.series[e],f=n==2?i._data[e]:i._data,h=i.scales,_=i.bbox,b=f[0],v=n==2?f[1]:f[e],S=n==2?h[l.facets[0].scale]:h[i.series[0].scale],y=n==2?h[l.facets[1].scale]:h[l.scale],A=_.left,P=_.top,H=_.width,K=_.height,q=i.valToPosH,et=i.valToPosV;return S.ori==0?s(l,b,v,S,y,q,et,A,P,H,K,Uo,Gi,Ko,pf,gf):s(l,b,v,S,y,et,q,P,A,K,H,zo,qi,$a,mf,_f)}function ka(i,e){let s=0,n=0,l=Tt(i.bands,Da);for(let f=0;f<l.length;f++){let h=l[f];h.series[0]==e?s=h.dir:h.series[1]==e&&(h.dir==1?n|=1:n|=2)}return[s,n==1?-1:n==2?1:n==3?2:0]}function Ng(i,e,s,n,l){let f=i.mode,h=i.series[e],_=f==2?h.facets[1].scale:h.scale,b=i.scales[_];return l==-1?b.min:l==1?b.max:b.distr==3?b.dir==1?b.min:b.max:0}function _n(i,e,s,n,l,f){return gi(i,e,(h,_,b,v,S,y,A,P,H,K,q)=>{let et=h.pxRound,k=v.dir*(v.ori==0?1:-1),Q=v.ori==0?Gi:qi,N,Z;k==1?(N=s,Z=n):(N=n,Z=s);let $=et(y(_[N],v,K,P)),ht=et(A(b[N],S,q,H)),it=et(y(_[Z],v,K,P)),ft=et(A(f==1?S.max:S.min,S,q,H)),F=new Path2D(l);return Q(F,it,ft),Q(F,$,ft),Q(F,$,ht),F})}function jo(i,e,s,n,l,f){let h=null;if(i.length>0){h=new Path2D;let _=e==0?Ko:$a,b=s;for(let y=0;y<i.length;y++){let A=i[y];if(A[1]>A[0]){let P=A[0]-b;P>0&&_(h,b,n,P,n+f),b=A[1]}}let v=s+l-b,S=10;v>0&&_(h,b,n-S/2,v,n+f+S)}return h}function Mg(i,e,s){let n=i[i.length-1];n&&n[0]==e?n[1]=s:i.push([e,s])}function Ia(i,e,s,n,l,f,h){let _=[],b=i.length;for(let v=l==1?s:n;v>=s&&v<=n;v+=l)if(e[v]===null){let y=v,A=v;if(l==1)for(;++v<=n&&e[v]===null;)A=v;else for(;--v>=s&&e[v]===null;)A=v;let P=f(i[y]),H=A==y?P:f(i[A]),K=y-l;P=h<=0&&K>=0&&K<b?f(i[K]):P;let et=A+l;H=h>=0&&et>=0&&et<b?f(i[et]):H,H>=P&&_.push([P,H])}return _}function Pu(i){return i==0?Wu:i==1?ve:e=>fi(e,i)}function df(i){let e=i==0?Uo:zo,s=i==0?(l,f,h,_,b,v)=>{l.arcTo(f,h,_,b,v)}:(l,f,h,_,b,v)=>{l.arcTo(h,f,b,_,v)},n=i==0?(l,f,h,_,b)=>{l.rect(f,h,_,b)}:(l,f,h,_,b)=>{l.rect(h,f,b,_)};return(l,f,h,_,b,v=0,S=0)=>{v==0&&S==0?n(l,f,h,_,b):(v=Is(v,_/2,b/2),S=Is(S,_/2,b/2),e(l,f+v,h),s(l,f+_,h,f+_,h+b,v),s(l,f+_,h+b,f,h+b,S),s(l,f,h+b,f,h,S),s(l,f,h,f+_,h,v),l.closePath())}}var Uo=(i,e,s)=>{i.moveTo(e,s)},zo=(i,e,s)=>{i.moveTo(s,e)},Gi=(i,e,s)=>{i.lineTo(e,s)},qi=(i,e,s)=>{i.lineTo(s,e)},Ko=df(0),$a=df(1),pf=(i,e,s,n,l,f)=>{i.arc(e,s,n,l,f)},mf=(i,e,s,n,l,f)=>{i.arc(s,e,n,l,f)},gf=(i,e,s,n,l,f,h)=>{i.bezierCurveTo(e,s,n,l,f,h)},_f=(i,e,s,n,l,f,h)=>{i.bezierCurveTo(s,e,l,n,h,f)};function vf(i){return(e,s,n,l,f)=>gi(e,s,(h,_,b,v,S,y,A,P,H,K,q)=>{let{pxRound:et,points:k}=h,Q,N;v.ori==0?(Q=Uo,N=pf):(Q=zo,N=mf);let Z=Ht(k.width*St,3),$=(k.size-k.width)/2*St,ht=Ht($*2,3),it=new Path2D,ft=new Path2D,{left:F,top:X,width:st,height:G}=e.bbox;Ko(ft,F-ht,X-ht,st+ht*2,G+ht*2);let U=at=>{if(b[at]!=null){let yt=et(y(_[at],v,K,P)),J=et(A(b[at],S,q,H));Q(it,yt+$,J),N(it,yt,J,$,0,Io*2)}};if(f)f.forEach(U);else for(let at=n;at<=l;at++)U(at);return{stroke:Z>0?it:null,fill:it,clip:ft,flags:Ki|Ea}})}function bf(i){return(e,s,n,l,f,h)=>{n!=l&&(f!=n&&h!=n&&i(e,s,n),f!=l&&h!=l&&i(e,s,l),i(e,s,h))}}var Pg=bf(Gi),kg=bf(qi);function Ef(i){let e=Tt(i?.alignGaps,0);return(s,n,l,f)=>gi(s,n,(h,_,b,v,S,y,A,P,H,K,q)=>{[l,f]=Ho(b,l,f);let et=h.pxRound,k=G=>et(y(G,v,K,P)),Q=G=>et(A(G,S,q,H)),N,Z;v.ori==0?(N=Gi,Z=Pg):(N=qi,Z=kg);let $=v.dir*(v.ori==0?1:-1),ht={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Ki},it=ht.stroke,ft=!1;if(f-l>=K*4){let G=Ot=>s.posToVal(Ot,v.key,!0),U=null,at=null,yt,J,Me,Ft=k(_[$==1?l:f]),ot=k(_[l]),mt=k(_[f]),W=G($==1?ot+1:mt-1);for(let Ot=$==1?l:f;Ot>=l&&Ot<=f;Ot+=$){let Jt=_[Ot],L=($==1?Jt<W:Jt>W)?Ft:k(Jt),xt=b[Ot];L==Ft?xt!=null?(J=xt,U==null?(N(it,L,Q(J)),yt=U=at=J):J<U?U=J:J>at&&(at=J)):xt===null&&(ft=!0):(U!=null&&Z(it,Ft,Q(U),Q(at),Q(yt),Q(J)),xt!=null?(J=xt,N(it,L,Q(J)),U=at=yt=J):(U=at=null,xt===null&&(ft=!0)),Ft=L,W=G(Ft+$))}U!=null&&U!=at&&Me!=Ft&&Z(it,Ft,Q(U),Q(at),Q(yt),Q(J))}else for(let G=$==1?l:f;G>=l&&G<=f;G+=$){let U=b[G];U===null?ft=!0:U!=null&&N(it,k(_[G]),Q(U))}let[X,st]=ka(s,n);if(h.fill!=null||X!=0){let G=ht.fill=new Path2D(it),U=h.fillTo(s,n,h.min,h.max,X),at=Q(U),yt=k(_[l]),J=k(_[f]);$==-1&&([J,yt]=[yt,J]),N(G,J,at),N(G,yt,at)}if(!h.spanGaps){let G=[];ft&&G.push(...Ia(_,b,l,f,$,k,e)),ht.gaps=G=h.gaps(s,n,l,f,G),ht.clip=jo(G,v.ori,P,H,K,q)}return st!=0&&(ht.band=st==2?[_n(s,n,l,f,it,-1),_n(s,n,l,f,it,1)]:_n(s,n,l,f,it,st)),ht})}function Ig(i){let e=Tt(i.align,1),s=Tt(i.ascDesc,!1),n=Tt(i.alignGaps,0),l=Tt(i.extend,!1);return(f,h,_,b)=>gi(f,h,(v,S,y,A,P,H,K,q,et,k,Q)=>{[_,b]=Ho(y,_,b);let N=v.pxRound,{left:Z,width:$}=f.bbox,ht=ot=>N(H(ot,A,k,q)),it=ot=>N(K(ot,P,Q,et)),ft=A.ori==0?Gi:qi,F={stroke:new Path2D,fill:null,clip:null,band:null,gaps:null,flags:Ki},X=F.stroke,st=A.dir*(A.ori==0?1:-1),G=it(y[st==1?_:b]),U=ht(S[st==1?_:b]),at=U,yt=U;l&&e==-1&&(yt=Z,ft(X,yt,G)),ft(X,U,G);for(let ot=st==1?_:b;ot>=_&&ot<=b;ot+=st){let mt=y[ot];if(mt==null)continue;let W=ht(S[ot]),Ot=it(mt);e==1?ft(X,W,G):ft(X,at,Ot),ft(X,W,Ot),G=Ot,at=W}let J=at;l&&e==1&&(J=Z+$,ft(X,J,G));let[Me,Ft]=ka(f,h);if(v.fill!=null||Me!=0){let ot=F.fill=new Path2D(X),mt=v.fillTo(f,h,v.min,v.max,Me),W=it(mt);ft(ot,J,W),ft(ot,yt,W)}if(!v.spanGaps){let ot=[];ot.push(...Ia(S,y,_,b,st,ht,n));let mt=v.width*St/2,W=s||e==1?mt:-mt,Ot=s||e==-1?-mt:mt;ot.forEach(Jt=>{Jt[0]+=W,Jt[1]+=Ot}),F.gaps=ot=v.gaps(f,h,_,b,ot),F.clip=jo(ot,A.ori,q,et,k,Q)}return Ft!=0&&(F.band=Ft==2?[_n(f,h,_,b,X,-1),_n(f,h,_,b,X,1)]:_n(f,h,_,b,X,Ft)),F})}function ku(i,e,s,n,l,f,h=Vt){if(i.length>1){let _=null;for(let b=0,v=1/0;b<i.length;b++)if(e[b]!==void 0){if(_!=null){let S=be(i[b]-i[_]);S<v&&(v=S,h=be(s(i[b],n,l,f)-s(i[_],n,l,f)))}_=b}}return h}function $g(i){i=i||$r;let e=Tt(i.size,[.6,Vt,1]),s=i.align||0,n=i.gap||0,l=i.radius;l=l==null?[0,0]:typeof l=="number"?[l,0]:l;let f=Et(l),h=1-e[0],_=Tt(e[1],Vt),b=Tt(e[2],1),v=Tt(i.disp,$r),S=Tt(i.each,P=>{}),{fill:y,stroke:A}=v;return(P,H,K,q)=>gi(P,H,(et,k,Q,N,Z,$,ht,it,ft,F,X)=>{let st=et.pxRound,G=s,U=n*St,at=_*St,yt=b*St,J,Me;N.ori==0?[J,Me]=f(P,H):[Me,J]=f(P,H);let Ft=N.dir*(N.ori==0?1:-1),ot=N.ori==0?Ko:$a,mt=N.ori==0?S:(lt,It,Fs,bn,Bs,ss,ns)=>{S(lt,It,Fs,Bs,bn,ns,ss)},W=Tt(P.bands,Da).find(lt=>lt.series[0]==H),Ot=W!=null?W.dir:0,Jt=et.fillTo(P,H,et.min,et.max,Ot),Kt=st(ht(Jt,Z,X,ft)),L,xt,Pe,de=F,Ct=st(et.width*St),Ce=!1,ze=null,ce=null,$s=null,Y=null;y!=null&&(Ct==0||A!=null)&&(Ce=!0,ze=y.values(P,H,K,q),ce=new Map,new Set(ze).forEach(lt=>{lt!=null&&ce.set(lt,new Path2D)}),Ct>0&&($s=A.values(P,H,K,q),Y=new Map,new Set($s).forEach(lt=>{lt!=null&&Y.set(lt,new Path2D)})));let{x0:Rs,size:Bn}=v;if(Rs!=null&&Bn!=null){G=1,k=Rs.values(P,H,K,q),Rs.unit==2&&(k=k.map(Fs=>P.posToVal(it+Fs*F,N.key,!0)));let lt=Bn.values(P,H,K,q);Bn.unit==2?xt=lt[0]*F:xt=$(lt[0],N,F,it)-$(0,N,F,it),de=ku(k,Q,$,N,F,it,de),Pe=de-xt+U}else de=ku(k,Q,$,N,F,it,de),Pe=de*h+U,xt=de-Pe;Pe<1&&(Pe=0),Ct>=xt/2&&(Ct=0),Pe<5&&(st=Wu);let Xs=Pe>0,Ke=de-Pe-(Xs?Ct:0);xt=st(_a(Ke,yt,at)),L=(G==0?xt/2:G==Ft?0:xt)-G*Ft*((G==0?U/2:0)+(Xs?Ct/2:0));let Vs={stroke:null,fill:null,clip:null,band:null,gaps:null,flags:0},Hs=Ce?null:new Path2D,Ts=null;if(W!=null)Ts=P.data[W.series[1]];else{let{y0:lt,y1:It}=v;lt!=null&&It!=null&&(Q=It.values(P,H,K,q),Ts=lt.values(P,H,K,q))}let ut=J*xt,nt=Me*xt;for(let lt=Ft==1?K:q;lt>=K&&lt<=q;lt+=Ft){let It=Q[lt];if(It==null)continue;if(Ts!=null){let ne=Ts[lt]??0;if(It-ne==0)continue;Kt=ht(ne,Z,X,ft)}let Fs=N.distr!=2||v!=null?k[lt]:lt,bn=$(Fs,N,F,it),Bs=ht(Tt(It,Jt),Z,X,ft),ss=st(bn-L),ns=st(Ue(Bs,Kt)),pe=st(Is(Bs,Kt)),Ye=ns-pe;if(It!=null){let ne=It<0?nt:ut,Zs=It<0?ut:nt;Ce?(Ct>0&&$s[lt]!=null&&ot(Y.get($s[lt]),ss,pe+hs(Ct/2),xt,Ue(0,Ye-Ct),ne,Zs),ze[lt]!=null&&ot(ce.get(ze[lt]),ss,pe+hs(Ct/2),xt,Ue(0,Ye-Ct),ne,Zs)):ot(Hs,ss,pe+hs(Ct/2),xt,Ue(0,Ye-Ct),ne,Zs),mt(P,H,lt,ss-Ct/2,pe,xt+Ct,Ye)}}return Ct>0?Vs.stroke=Ce?Y:Hs:Ce||(Vs._fill=et.width==0?et._fill:et._stroke??et._fill,Vs.width=0),Vs.fill=Ce?ce:Hs,Vs})}function Rg(i,e){let s=Tt(e?.alignGaps,0);return(n,l,f,h)=>gi(n,l,(_,b,v,S,y,A,P,H,K,q,et)=>{[f,h]=Ho(v,f,h);let k=_.pxRound,Q=J=>k(A(J,S,q,H)),N=J=>k(P(J,y,et,K)),Z,$,ht;S.ori==0?(Z=Uo,ht=Gi,$=gf):(Z=zo,ht=qi,$=_f);let it=S.dir*(S.ori==0?1:-1),ft=Q(b[it==1?f:h]),F=ft,X=[],st=[];for(let J=it==1?f:h;J>=f&&J<=h;J+=it)if(v[J]!=null){let Ft=b[J],ot=Q(Ft);X.push(F=ot),st.push(N(v[J]))}let G={stroke:i(X,st,Z,ht,$,k),fill:null,clip:null,band:null,gaps:null,flags:Ki},U=G.stroke,[at,yt]=ka(n,l);if(_.fill!=null||at!=0){let J=G.fill=new Path2D(U),Me=_.fillTo(n,l,_.min,_.max,at),Ft=N(Me);ht(J,F,Ft),ht(J,ft,Ft)}if(!_.spanGaps){let J=[];J.push(...Ia(b,v,f,h,it,Q,s)),G.gaps=J=_.gaps(n,l,f,h,J),G.clip=jo(J,S.ori,H,K,q,et)}return yt!=0&&(G.band=yt==2?[_n(n,l,f,h,U,-1),_n(n,l,f,h,U,1)]:_n(n,l,f,h,U,yt)),G})}function Vg(i){return Rg(Hg,i)}function Hg(i,e,s,n,l,f){let h=i.length;if(h<2)return null;let _=new Path2D;if(s(_,i[0],e[0]),h==2)n(_,i[1],e[1]);else{let b=Array(h),v=Array(h-1),S=Array(h-1),y=Array(h-1);for(let A=0;A<h-1;A++)S[A]=e[A+1]-e[A],y[A]=i[A+1]-i[A],v[A]=S[A]/y[A];b[0]=v[0];for(let A=1;A<h-1;A++)v[A]===0||v[A-1]===0||v[A-1]>0!=v[A]>0?b[A]=0:(b[A]=3*(y[A-1]+y[A])/((2*y[A]+y[A-1])/v[A-1]+(y[A]+2*y[A-1])/v[A]),isFinite(b[A])||(b[A]=0));b[h-1]=v[h-2];for(let A=0;A<h-1;A++)l(_,i[A]+y[A]/3,e[A]+b[A]*y[A]/3,i[A+1]-y[A]/3,e[A+1]-b[A+1]*y[A]/3,i[A+1],e[A+1])}return _}var ya=new Set;function Iu(){for(let i of ya)i.syncRect(!0)}Yi&&(pi(Em,Wi,Iu),pi(ym,Wi,Iu,!0),pi($o,Wi,()=>{Qt.pxRatio=St}));var Fg=Ef(),Bg=vf();function $u(i,e,s,n){return(n?[i[0],i[1]].concat(i.slice(2)):[i[0]].concat(i.slice(1))).map((f,h)=>wa(f,h,e,s))}function Wg(i,e){return i.map((s,n)=>n==0?{}:he({},e,s))}function wa(i,e,s,n){return he({},e==0?s:n,i)}function yf(i,e,s){return e==null?Ui:[e,s]}var jg=yf;function Ug(i,e,s){return e==null?Ui:Ro(e,s,La,!0)}function wf(i,e,s,n){return e==null?Ui:Fo(e,s,i.scales[n].log,!1)}var zg=wf;function Tf(i,e,s,n){return e==null?Ui:Ca(e,s,i.scales[n].log,!1)}var Kg=Tf;function Yg(i,e,s,n,l){let f=Ue(pu(i),pu(e)),h=e-i,_=ks(l/n*h,s);do{let b=s[_],v=n*b/h;if(v>=l&&f+(b<5?Hn.get(b):0)<=17)return[b,v]}while(++_<s.length);return[0,0]}function Ru(i){let e,s;return i=i.replace(/(\d+)px/,(n,l)=>(e=ve((s=+l)*St))+"px"),[i,e,s]}function Gg(i){i.show&&[i.font,i.labelFont].forEach(e=>{let s=Ht(e[2]*St,1);e[0]=e[0].replace(/[0-9.]+px/,s+"px"),e[1]=s})}function Qt(i,e,s){let n={mode:Tt(i.mode,1)},l=n.mode;function f(a,c,d,p){let g=c.valToPct(a);return p+d*(c.dir==-1?1-g:g)}function h(a,c,d,p){let g=c.valToPct(a);return p+d*(c.dir==-1?g:1-g)}function _(a,c,d,p){return c.ori==0?f(a,c,d,p):h(a,c,d,p)}n.valToPosH=f,n.valToPosV=h;let b=!1;n.status=0;let v=n.root=ys(sm);if(i.id!=null&&(v.id=i.id),fs(v,i.class),i.title){let a=ys(rm,v);a.textContent=i.title}let S=Ps("canvas"),y=n.ctx=S.getContext("2d"),A=ys(om,v);pi("click",A,a=>{a.target===H&&(Nt!=cn||$t!=Ks)&&fe.click(n,a)},!0);let P=n.under=ys(lm,A);A.appendChild(S);let H=n.over=ys(am,A);i=zi(i);let K=+Tt(i.pxAlign,1),q=Pu(K);(i.plugins||[]).forEach(a=>{a.opts&&(i=a.opts(n,i)||i)});let et=i.ms||.001,k=n.series=l==1?$u(i.series||[],Cu,Nu,!1):Wg(i.series||[null],xu),Q=n.axes=$u(i.axes||[],Su,Ou,!0),N=n.scales={},Z=n.bands=i.bands||[];Z.forEach(a=>{a.fill=Et(a.fill||null),a.dir=Tt(a.dir,-1)});let $=l==2?k[1].facets[0].scale:k[0].scale,ht={axes:pl,series:cl},it=(i.drawOrder||["axes","series"]).map(a=>ht[a]);function ft(a){let c=N[a];if(c==null){let d=(i.scales||$r)[a]||$r;if(d.from!=null)ft(d.from),N[a]=he({},N[d.from],d,{key:a});else{c=N[a]=he({},a==$?ff:xg,d),c.key=a;let p=c.time,g=c.range,w=Vn(g);if((a!=$||l==2&&!p)&&(w&&(g[0]==null||g[1]==null)&&(g={min:g[0]==null?fu:{mode:1,hard:g[0],soft:g[0]},max:g[1]==null?fu:{mode:1,hard:g[1],soft:g[1]}},w=!1),!w&&Wo(g))){let D=g;g=(M,R,V)=>R==null?Ui:Ro(R,V,D)}c.range=Et(g||(p?jg:a==$?c.distr==3?zg:c.distr==4?Kg:yf:c.distr==3?wf:c.distr==4?Tf:Ug)),c.auto=Et(w?!1:c.auto),c.clamp=Et(c.clamp||Dg),c._min=c._max=null;let O=c.distr==3?D=>gn(D>0?D:c.clamp(n,D,c.min,c.max,c.key)):c.distr==4?D=>ca(D,c.asinh):c.distr==100?D=>c.fwd(D):D=>D;c.valToPct=D=>{let M=O(D),{_min:R,_max:V}=c,B=V-R;return(M-R)/B}}}}ft("x"),ft("y"),l==1&&k.forEach(a=>{ft(a.scale)}),Q.forEach(a=>{ft(a.scale)});for(let a in i.scales)ft(a);let F=N[$],X=F.distr,st,G;F.ori==0?(fs(v,nm),st=f,G=h):(fs(v,im),st=h,G=f);let U={};for(let a in N){let c=N[a];(c.min!=null||c.max!=null)&&(U[a]={min:c.min,max:c.max},c.min=c.max=null)}let at=i.tzDate||(a=>new Date(ve(a/et))),yt=i.fmtDate||xa,J=et==1?sg(at):rg(at),Me=wu(at,yu(et==1?eg:ig,yt)),Ft=Au(at,Tu(lg,yt)),ot=[],mt=n.legend=he({},ug,i.legend),W=n.cursor=he({},gg,{drag:{y:l==2}},i.cursor),Ot=mt.show,Jt=W.show,Kt=mt.markers;mt.idxs=ot,Kt.width=Et(Kt.width),Kt.dash=Et(Kt.dash),Kt.stroke=Et(Kt.stroke),Kt.fill=Et(Kt.fill);let L,xt,Pe,de=[],Ct=[],Ce,ze=!1,ce={};if(mt.live){let a=k[1]?k[1].values:null;ze=a!=null,Ce=ze?a(n,1,0):{_:0};for(let c in Ce)ce[c]=Aa}if(Ot)if(L=Ps("table",pm,v),Pe=Ps("tbody",null,L),mt.mount(n,L),ze){xt=Ps("thead",null,L,Pe);let a=Ps("tr",null,xt);Ps("th",null,a);for(var $s in Ce)Ps("th",Jc,a).textContent=$s}else fs(L,gm),mt.live&&fs(L,mm);let Y={show:!0},Rs={show:!1};function Bn(a,c){if(c==0&&(ze||!mt.live||l==2))return Ui;let d=[],p=Ps("tr",_m,Pe,Pe.childNodes[c]);fs(p,a.class),a.show||fs(p,di);let g=Ps("th",null,p);if(Kt.show){let D=ys(vm,g);if(c>0){let M=Kt.width(n,c);M&&(D.style.border=M+"px "+Kt.dash(n,c)+" "+Kt.stroke(n,c)),D.style.background=Kt.fill(n,c)}}let w=ys(Jc,g);w.textContent=a.label,c>0&&(Kt.show||(w.style.color=a.width>0?Kt.stroke(n,c):Kt.fill(n,c)),Ke("click",g,D=>{if(W._lock)return;yn(D);let M=k.indexOf(a);if((D.ctrlKey||D.metaKey)!=mt.isolate){let R=k.some((V,B)=>B>0&&B!=M&&V.show);k.forEach((V,B)=>{B>0&&we(B,R?B==M?Y:Rs:Y,!0,te.setSeries)})}else we(M,{show:!a.show},!0,te.setSeries)},!1),wn&&Ke(su,g,D=>{W._lock||(yn(D),we(k.indexOf(a),Os,!0,te.setSeries))},!1));for(var O in Ce){let D=Ps("td",bm,p);D.textContent="--",d.push(D)}return[p,d]}let Xs=new Map;function Ke(a,c,d,p=!0){let g=Xs.get(c)||{},w=W.bind[a](n,c,d,p);w&&(pi(a,c,g[a]=w),Xs.set(c,g))}function Vs(a,c,d){let p=Xs.get(c)||{};for(let g in p)(a==null||g==a)&&(ga(g,c,p[g]),delete p[g]);a==null&&Xs.delete(c)}let Hs=0,Ts=0,ut=0,nt=0,lt=0,It=0,Fs=lt,bn=It,Bs=ut,ss=nt,ns=0,pe=0,Ye=0,ne=0;n.bbox={};let Zs=!1,vi=!1,En=!1,tn=!1,bi=!1,Ge=!1;function Ji(a,c,d){(d||a!=n.width||c!=n.height)&&Hr(a,c),Us(!1),En=!0,vi=!0,ue()}function Hr(a,c){n.width=Hs=ut=a,n.height=Ts=nt=c,lt=It=0,Ei(),il();let d=n.bbox;ns=d.left=fi(lt*St,.5),pe=d.top=fi(It*St,.5),Ye=d.width=fi(ut*St,.5),ne=d.height=fi(nt*St,.5)}let el=3;function sl(){let a=!1,c=0;for(;!a;){c++;let d=hl(c),p=dl(c);a=c==el||d&&p,a||(Hr(n.width,n.height),vi=!0)}}function nl({width:a,height:c}){Ji(a,c)}n.setSize=nl;function Ei(){let a=!1,c=!1,d=!1,p=!1;Q.forEach((g,w)=>{if(g.show&&g._show){let{side:O,_size:D}=g,M=O%2,R=g.label!=null?g.labelSize:0,V=D+R;V>0&&(M?(ut-=V,O==3?(lt+=V,p=!0):d=!0):(nt-=V,O==0?(It+=V,a=!0):c=!0))}}),sn[0]=a,sn[1]=d,sn[2]=c,sn[3]=p,ut-=Ws[1]+Ws[3],lt+=Ws[3],nt-=Ws[2]+Ws[0],It+=Ws[0]}function il(){let a=lt+ut,c=It+nt,d=lt,p=It;function g(w,O){switch(w){case 1:return a+=O,a-O;case 2:return c+=O,c-O;case 3:return d-=O,d+O;case 0:return p-=O,p+O}}Q.forEach((w,O)=>{if(w.show&&w._show){let D=w.side;w._pos=g(D,w._size),w.label!=null&&(w._lpos=g(D,w.labelSize))}})}if(W.dataIdx==null){let a=W.hover,c=a.skip=new Set(a.skip??[]);c.add(void 0);let d=a.prox=Et(a.prox),p=a.bias??=0;W.dataIdx=(g,w,O,D)=>{if(w==0)return O;let M=O,R=d(g,w,O,D)??Vt,V=R>=0&&R<Vt,B=F.ori==0?ut:nt,tt=W.left,Dt=e[0],vt=e[w];if(c.has(vt[O])){M=null;let pt=null,rt=null,j;if(p==0||p==-1)for(j=O;pt==null&&j-- >0;)c.has(vt[j])||(pt=j);if(p==0||p==1)for(j=O;rt==null&&j++<vt.length;)c.has(vt[j])||(rt=j);if(pt!=null||rt!=null)if(V){let At=pt==null?-1/0:st(Dt[pt],F,B,0),Gt=rt==null?1/0:st(Dt[rt],F,B,0),jt=tt-At,Rt=Gt-tt;jt<=Rt?jt<=R&&(M=pt):Rt<=R&&(M=rt)}else M=rt==null?pt:pt==null?rt:O-pt<=rt-O?pt:rt}else V&&be(tt-st(Dt[O],F,B,0))>R&&(M=null);return M}}let yn=a=>{W.event=a};W.idxs=ot,W._lock=!1;let Wt=W.points;Wt.show=Et(Wt.show),Wt.size=Et(Wt.size),Wt.stroke=Et(Wt.stroke),Wt.width=Et(Wt.width),Wt.fill=Et(Wt.fill);let As=n.focus=he({},i.focus||{alpha:.3},W.focus),wn=As.prox>=0,Tn=wn&&Wt.one,qe=[],ms=[],is=[];function en(a,c){let d=Wt.show(n,c);if(d)return fs(d,dm),fs(d,a.class),Js(d,-10,-10,ut,nt),H.insertBefore(d,qe[c]),d}function Wn(a,c){if(l==1||c>0){let d=l==1&&N[a.scale].time,p=a.value;a.value=d?_u(p)?Au(at,Tu(p,yt)):p||Ft:p||Cg,a.label=a.label||(d?vg:_g)}if(Tn||c>0){a.width=a.width==null?1:a.width,a.paths=a.paths||Fg,a.fillTo=Et(a.fillTo||Ng),a.pxAlign=+Tt(a.pxAlign,K),a.pxRound=Pu(a.pxAlign),a.stroke=Et(a.stroke||null),a.fill=Et(a.fill||null),a._stroke=a._fill=a._paths=a._focus=null;let d=Lg(Ue(1,a.width),1),p=a.points=he({},{size:d,width:Ue(1,d*.2),stroke:a.stroke,space:d*2,paths:Bg,_stroke:null,_fill:null},a.points);p.show=Et(p.show),p.filter=Et(p.filter),p.fill=Et(p.fill),p.stroke=Et(p.stroke),p.paths=Et(p.paths),p.pxAlign=a.pxAlign}if(Ot){let d=Bn(a,c);de.splice(c,0,d[0]),Ct.splice(c,0,d[1]),mt.values.push(null)}if(Jt){ot.splice(c,0,null);let d=null;Tn?c==0&&(d=en(a,c)):c>0&&(d=en(a,c)),qe.splice(c,0,d),ms.splice(c,0,0),is.splice(c,0,0)}Zt("addSeries",c)}function rl(a,c){c=c??k.length,a=l==1?wa(a,c,Cu,Nu):wa(a,c,{},xu),k.splice(c,0,a),Wn(k[c],c)}n.addSeries=rl;function Xi(a){if(k.splice(a,1),Ot){mt.values.splice(a,1),Ct.splice(a,1);let c=de.splice(a,1)[0];Vs(null,c.firstChild),c.remove()}Jt&&(ot.splice(a,1),qe.splice(a,1)[0].remove(),ms.splice(a,1),is.splice(a,1)),Zt("delSeries",a)}n.delSeries=Xi;let sn=[!1,!1,!1,!1];function ol(a,c){if(a._show=a.show,a.show){let d=a.side%2,p=N[a.scale];p==null&&(a.scale=d?k[1].scale:$,p=N[a.scale]);let g=p.time;a.size=Et(a.size),a.space=Et(a.space),a.rotate=Et(a.rotate),Vn(a.incrs)&&a.incrs.forEach(O=>{!Hn.has(O)&&Hn.set(O,zu(O))}),a.incrs=Et(a.incrs||(p.distr==2?Xm:g?et==1?tg:ng:hi)),a.splits=Et(a.splits||(g&&p.distr==1?J:p.distr==3?va:p.distr==4?yg:Eg)),a.stroke=Et(a.stroke),a.grid.stroke=Et(a.grid.stroke),a.ticks.stroke=Et(a.ticks.stroke),a.border.stroke=Et(a.border.stroke);let w=a.values;a.values=Vn(w)&&!Vn(w[0])?Et(w):g?Vn(w)?wu(at,yu(w,yt)):_u(w)?og(at,w):w||Me:w||bg,a.filter=Et(a.filter||(p.distr>=3&&p.log==10?Ag:p.distr==3&&p.log==2?Sg:ju)),a.font=Ru(a.font),a.labelFont=Ru(a.labelFont),a._size=a.size(n,null,c,0),a._space=a._rotate=a._incrs=a._found=a._splits=a._values=null,a._size>0&&(sn[c]=!0,a._el=ys(cm,A))}}function jn(a,c,d,p){let[g,w,O,D]=d,M=c%2,R=0;return M==0&&(D||w)&&(R=c==0&&!g||c==2&&!O?ve(Su.size/3):0),M==1&&(g||O)&&(R=c==1&&!w||c==3&&!D?ve(Ou.size/2):0),R}let Fr=n.padding=(i.padding||[jn,jn,jn,jn]).map(a=>Et(Tt(a,jn))),Ws=n._padding=Fr.map((a,c)=>a(n,c,sn,0)),me,ie=null,Yt=null,yi=l==1?k[0].idxs:null,rs=null,Un=!1;function Br(a,c){if(e=a??[],n.data=n._data=e,l==2){me=0;for(let d=1;d<k.length;d++)me+=e[d][0].length}else{e.length==0&&(n.data=n._data=e=[[]]),rs=e[0],me=rs.length;let d=e;if(X==2){d=e.slice();let p=d[0]=Array(me);for(let g=0;g<me;g++)p[g]=g}n._data=e=d}if(Us(!0),Zt("setData"),X==2&&(En=!0),c!==!1){let d=F;d.auto(n,Un)?Zi():Xt($,d.min,d.max),tn=tn||W.left>=0,Ge=!0,ue()}}n.setData=Br;function Zi(){Un=!0;let a,c;l==1&&(me>0?(ie=yi[0]=0,Yt=yi[1]=me-1,a=e[0][ie],c=e[0][Yt],X==2?(a=ie,c=Yt):a==c&&(X==3?[a,c]=Fo(a,a,F.log,!1):X==4?[a,c]=Ca(a,a,F.log,!1):F.time?c=a+ve(86400/et):[a,c]=Ro(a,c,La,!0))):(ie=yi[0]=a=null,Yt=yi[1]=c=null)),Xt($,a,c)}let zn,nn,tr,er,sr,nr,ir,rr,or,Ss;function rn(a,c,d,p,g,w){a??=Zc,d??=Da,p??="butt",g??=Zc,w??="round",a!=zn&&(y.strokeStyle=zn=a),g!=nn&&(y.fillStyle=nn=g),c!=tr&&(y.lineWidth=tr=c),w!=sr&&(y.lineJoin=sr=w),p!=nr&&(y.lineCap=nr=p),d!=er&&y.setLineDash(er=d)}function Wr(a,c,d,p){c!=nn&&(y.fillStyle=nn=c),a!=ir&&(y.font=ir=a),d!=rr&&(y.textAlign=rr=d),p!=or&&(y.textBaseline=or=p)}function jr(a,c,d,p,g=0){if(p.length>0&&a.auto(n,Un)&&(c==null||c.min==null)){let w=Tt(ie,0),O=Tt(Yt,p.length-1),D=d.min==null?Sm(p,w,O,g,a.distr==3):[d.min,d.max];a.min=Is(a.min,d.min=D[0]),a.max=Ue(a.max,d.max=D[1])}}let An={min:null,max:null};function ll(){for(let p in N){let g=N[p];U[p]==null&&(g.min==null||U[$]!=null&&g.auto(n,Un))&&(U[p]=An)}for(let p in N){let g=N[p];U[p]==null&&g.from!=null&&U[g.from]!=null&&(U[p]=An)}U[$]!=null&&Us(!0);let a={};for(let p in U){let g=U[p];if(g!=null){let w=a[p]=zi(N[p],Pm);if(g.min!=null)he(w,g);else if(p!=$||l==2)if(me==0&&w.from==null){let O=w.range(n,null,null,p);w.min=O[0],w.max=O[1]}else w.min=Vt,w.max=-Vt}}if(me>0){k.forEach((p,g)=>{if(l==1){let w=p.scale,O=U[w];if(O==null)return;let D=a[w];if(g==0){let M=D.range(n,D.min,D.max,w);D.min=M[0],D.max=M[1],ie=ks(D.min,e[0]),Yt=ks(D.max,e[0]),Yt-ie>1&&(e[0][ie]<D.min&&ie++,e[0][Yt]>D.max&&Yt--),p.min=rs[ie],p.max=rs[Yt]}else p.show&&p.auto&&jr(D,O,p,e[g],p.sorted);p.idxs[0]=ie,p.idxs[1]=Yt}else if(g>0&&p.show&&p.auto){let[w,O]=p.facets,D=w.scale,M=O.scale,[R,V]=e[g],B=a[D],tt=a[M];B!=null&&jr(B,U[D],w,R,w.sorted),tt!=null&&jr(tt,U[M],O,V,O.sorted),p.min=O.min,p.max=O.max}});for(let p in a){let g=a[p],w=U[p];if(g.from==null&&(w==null||w.min==null)){let O=g.range(n,g.min==Vt?null:g.min,g.max==-Vt?null:g.max,p);g.min=O[0],g.max=O[1]}}}for(let p in a){let g=a[p];if(g.from!=null){let w=a[g.from];if(w.min==null)g.min=g.max=null;else{let O=g.range(n,w.min,w.max,p);g.min=O[0],g.max=O[1]}}}let c={},d=!1;for(let p in a){let g=a[p],w=N[p];if(w.min!=g.min||w.max!=g.max){w.min=g.min,w.max=g.max;let O=w.distr;w._min=O==3?gn(w.min):O==4?ca(w.min,w.asinh):O==100?w.fwd(w.min):w.min,w._max=O==3?gn(w.max):O==4?ca(w.max,w.asinh):O==100?w.fwd(w.max):w.max,c[p]=d=!0}}if(d){k.forEach((p,g)=>{l==2?g>0&&c.y&&(p._paths=null):c[p.scale]&&(p._paths=null)});for(let p in c)En=!0,Zt("setScale",p);Jt&&W.left>=0&&(tn=Ge=!0)}for(let p in U)U[p]=null}function al(a){let c=_a(ie-1,0,me-1),d=_a(Yt+1,0,me-1);for(;a[c]==null&&c>0;)c--;for(;a[d]==null&&d<me-1;)d++;return[c,d]}function cl(){me>0&&(k.forEach((a,c)=>{if(c>0&&a.show&&(Ur(c,!1),Ur(c,!0),a._paths==null)){Ss!=a.alpha&&(y.globalAlpha=Ss=a.alpha);let d=l==2?[0,e[c][0].length-1]:al(e[c]);a._paths=a.paths(n,c,d[0],d[1]),Ss!=1&&(y.globalAlpha=Ss=1)}}),k.forEach((a,c)=>{if(c>0&&a.show){Ss!=a.alpha&&(y.globalAlpha=Ss=a.alpha),a._paths!=null&&zr(c,!1);{let d=a._paths!=null?a._paths.gaps:null,p=a.points.show(n,c,ie,Yt,d),g=a.points.filter(n,c,p,d);(p||g)&&(a.points._paths=a.points.paths(n,c,ie,Yt,g),zr(c,!0))}Ss!=1&&(y.globalAlpha=Ss=1),Zt("drawSeries",c)}}))}function Ur(a,c){let d=c?k[a].points:k[a];d._stroke=d.stroke(n,a),d._fill=d.fill(n,a)}function zr(a,c){let d=c?k[a].points:k[a],{stroke:p,fill:g,clip:w,flags:O,_stroke:D=d._stroke,_fill:M=d._fill,_width:R=d.width}=d._paths;R=Ht(R*St,3);let V=null,B=R%2/2;c&&M==null&&(M=R>0?"#fff":D);let tt=d.pxAlign==1&&B>0;if(tt&&y.translate(B,B),!c){let Dt=ns-R/2,vt=pe-R/2,pt=Ye+R,rt=ne+R;V=new Path2D,V.rect(Dt,vt,pt,rt)}c?js(D,R,d.dash,d.cap,M,p,g,O,w):ul(a,D,R,d.dash,d.cap,M,p,g,O,V,w),tt&&y.translate(-B,-B)}function ul(a,c,d,p,g,w,O,D,M,R,V){let B=!1;M!=0&&Z.forEach((tt,Dt)=>{if(tt.series[0]==a){let vt=k[tt.series[1]],pt=e[tt.series[1]],rt=(vt._paths||$r).band;Vn(rt)&&(rt=tt.dir==1?rt[0]:rt[1]);let j,At=null;vt.show&&rt&&Lm(pt,ie,Yt)?(At=tt.fill(n,Dt)||w,j=vt._paths.clip):rt=null,js(c,d,p,g,At,O,D,M,R,V,j,rt),B=!0}}),B||js(c,d,p,g,w,O,D,M,R,V)}let wi=Ki|Ea;function js(a,c,d,p,g,w,O,D,M,R,V,B){rn(a,c,d,p,g),(M||R||B)&&(y.save(),M&&y.clip(M),R&&y.clip(R)),B?(D&wi)==wi?(y.clip(B),V&&y.clip(V),Ti(g,O),on(a,w,c)):D&Ea?(Ti(g,O),y.clip(B),on(a,w,c)):D&Ki&&(y.save(),y.clip(B),V&&y.clip(V),Ti(g,O),y.restore(),on(a,w,c)):(Ti(g,O),on(a,w,c)),(M||R||B)&&y.restore()}function on(a,c,d){d>0&&(c instanceof Map?c.forEach((p,g)=>{y.strokeStyle=zn=g,y.stroke(p)}):c!=null&&a&&y.stroke(c))}function Ti(a,c){c instanceof Map?c.forEach((d,p)=>{y.fillStyle=nn=p,y.fill(d)}):c!=null&&a&&y.fill(c)}function fl(a,c,d,p){let g=Q[a],w;if(p<=0)w=[0,0];else{let O=g._space=g.space(n,a,c,d,p),D=g._incrs=g.incrs(n,a,c,d,p,O);w=Yg(c,d,D,p,O)}return g._found=w}function lr(a,c,d,p,g,w,O,D,M,R){let V=O%2/2;K==1&&y.translate(V,V),rn(D,O,M,R,D),y.beginPath();let B,tt,Dt,vt,pt=g+(p==0||p==3?-w:w);d==0?(tt=g,vt=pt):(B=g,Dt=pt);for(let rt=0;rt<a.length;rt++)c[rt]!=null&&(d==0?B=Dt=a[rt]:tt=vt=a[rt],y.moveTo(B,tt),y.lineTo(Dt,vt));y.stroke(),K==1&&y.translate(-V,-V)}function hl(a){let c=!0;return Q.forEach((d,p)=>{if(!d.show)return;let g=N[d.scale];if(g.min==null){d._show&&(c=!1,d._show=!1,Us(!1));return}else d._show||(c=!1,d._show=!0,Us(!1));let w=d.side,O=w%2,{min:D,max:M}=g,[R,V]=fl(p,D,M,O==0?ut:nt);if(V==0)return;let B=g.distr==2,tt=d._splits=d.splits(n,p,D,M,R,V,B),Dt=g.distr==2?tt.map(j=>rs[j]):tt,vt=g.distr==2?rs[tt[1]]-rs[tt[0]]:R,pt=d._values=d.values(n,d.filter(n,Dt,p,V,vt),p,V,vt);d._rotate=w==2?d.rotate(n,pt,p,V):0;let rt=d._size;d._size=ws(d.size(n,pt,p,a)),rt!=null&&d._size!=rt&&(c=!1)}),c}function dl(a){let c=!0;return Fr.forEach((d,p)=>{let g=d(n,p,sn,a);g!=Ws[p]&&(c=!1),Ws[p]=g}),c}function pl(){for(let a=0;a<Q.length;a++){let c=Q[a];if(!c.show||!c._show)continue;let d=c.side,p=d%2,g,w,O=c.stroke(n,a),D=d==0||d==3?-1:1;if(c.label){let xe=c.labelGap*D,Be=ve((c._lpos+xe)*St);Wr(c.labelFont[0],O,"center",d==2?xr:Xc),y.save(),p==1?(g=w=0,y.translate(Be,ve(pe+ne/2)),y.rotate((d==3?-Io:Io)/2)):(g=ve(ns+Ye/2),w=Be),y.fillText(c.label,g,w),y.restore()}let[M,R]=c._found;if(R==0)continue;let V=N[c.scale],B=p==0?Ye:ne,tt=p==0?ns:pe,Dt=ve(c.gap*St),vt=c._splits,pt=V.distr==2?vt.map(xe=>rs[xe]):vt,rt=V.distr==2?rs[vt[1]]-rs[vt[0]]:M,j=c.ticks,At=c.border,Gt=j.show?ve(j.size*St):0,jt=c._rotate*-Io/180,Rt=q(c._pos*St),ee=(Gt+Dt)*D,Oe=Rt+ee;w=p==0?Oe:0,g=p==1?Oe:0;let ke=c.font[0],Ie=c.align==1?Fi:c.align==2?la:jt>0?Fi:jt<0?la:p==0?"center":d==3?la:Fi,as=jt||p==1?"middle":d==2?xr:Xc;Wr(ke,O,Ie,as);let cs=c.font[1]*c.lineGap,Te=vt.map(xe=>q(_(xe,V,B,tt))),bs=c._values;for(let xe=0;xe<bs.length;xe++){let Be=bs[xe];if(Be!=null){p==0?g=Te[xe]:w=Te[xe],Be=""+Be;let Dn=Be.indexOf(`
`)==-1?[Be]:Be.split(/\n/gm);for(let Qs=0;Qs<Dn.length;Qs++){let Xe=Dn[Qs];jt?(y.save(),y.translate(g,w+Qs*cs),y.rotate(jt),y.fillText(Xe,0,0),y.restore()):y.fillText(Xe,g,w+Qs*cs)}}}j.show&&lr(Te,j.filter(n,pt,a,R,rt),p,d,Rt,Gt,Ht(j.width*St,3),j.stroke(n,a),j.dash,j.cap);let De=c.grid;De.show&&lr(Te,De.filter(n,pt,a,R,rt),p,p==0?2:1,p==0?pe:ns,p==0?ne:Ye,Ht(De.width*St,3),De.stroke(n,a),De.dash,De.cap),At.show&&lr([Rt],[1],p==0?1:0,p==0?1:2,p==1?pe:ns,p==1?ne:Ye,Ht(At.width*St,3),At.stroke(n,a),At.dash,At.cap)}Zt("drawAxes")}function Us(a){k.forEach((c,d)=>{d>0&&(c._paths=null,a&&(l==1?(c.min=null,c.max=null):c.facets.forEach(p=>{p.min=null,p.max=null})))})}let Ai=!1,ar=!1,gs=[];function Le(){ar=!1;for(let a=0;a<gs.length;a++)Zt(...gs[a]);gs.length=0}function ue(){Ai||(Fm(ye),Ai=!0)}function Ve(a,c=!1){Ai=!0,ar=c,a(n),ye(),c&&gs.length>0&&queueMicrotask(Le)}n.batch=Ve;function ye(){if(Zs&&(ll(),Zs=!1),En&&(sl(),En=!1),vi){if(zt(P,Fi,lt),zt(P,xr,It),zt(P,Mr,ut),zt(P,Pr,nt),zt(H,Fi,lt),zt(H,xr,It),zt(H,Mr,ut),zt(H,Pr,nt),zt(A,Mr,Hs),zt(A,Pr,Ts),S.width=ve(Hs*St),S.height=ve(Ts*St),Q.forEach(({_el:a,_show:c,_size:d,_pos:p,side:g})=>{if(a!=null)if(c){let w=g===3||g===0?d:0,O=g%2==1;zt(a,O?"left":"top",p-w),zt(a,O?"width":"height",d),zt(a,O?"top":"left",O?It:lt),zt(a,O?"height":"width",O?nt:ut),ma(a,di)}else fs(a,di)}),zn=nn=tr=sr=nr=ir=rr=or=er=null,Ss=1,Ds(!0),lt!=Fs||It!=bn||ut!=Bs||nt!=ss){Us(!1);let a=ut/Bs,c=nt/ss;if(Jt&&!tn&&W.left>=0){W.left*=a,W.top*=c,os&&Js(os,ve(W.left),0,ut,nt),ln&&Js(ln,0,ve(W.top),ut,nt);for(let d=0;d<qe.length;d++){let p=qe[d];p!=null&&(ms[d]*=a,is[d]*=c,Js(p,ws(ms[d]),ws(is[d]),ut,nt))}}if(Mt.show&&!bi&&Mt.left>=0&&Mt.width>0){Mt.left*=a,Mt.width*=a,Mt.top*=c,Mt.height*=c;for(let d in fr)zt(un,d,Mt[d])}Fs=lt,bn=It,Bs=ut,ss=nt}Zt("setSize"),vi=!1}Hs>0&&Ts>0&&(y.clearRect(0,0,S.width,S.height),Zt("drawClear"),it.forEach(a=>a()),Zt("draw")),Mt.show&&bi&&(Kn(Mt),bi=!1),Jt&&tn&&(Ys(null,!0,!1),tn=!1),mt.show&&mt.live&&Ge&&(vs(),Ge=!1),b||(b=!0,n.status=1,Zt("ready")),Un=!1,Ai=!1}n.redraw=(a,c)=>{En=c||!1,a!==!1?Xt($,F.min,F.max):ue()};function Sn(a,c){let d=N[a];if(d.from==null){if(me==0){let p=d.range(n,c.min,c.max,a);c.min=p[0],c.max=p[1]}if(c.min>c.max){let p=c.min;c.min=c.max,c.max=p}if(me>1&&c.min!=null&&c.max!=null&&c.max-c.min<1e-16)return;a==$&&d.distr==2&&me>0&&(c.min=ks(c.min,e[0]),c.max=ks(c.max,e[0]),c.min==c.max&&c.max++),U[a]=c,Zs=!0,ue()}}n.setScale=Sn;let zs,Cs,os,ln,Si,an,cn,Ks,Ci,cr,Nt,$t,Ls=!1,fe=W.drag,re=fe.x,oe=fe.y;Jt&&(W.x&&(zs=ys(fm,H)),W.y&&(Cs=ys(hm,H)),F.ori==0?(os=zs,ln=Cs):(os=Cs,ln=zs),Nt=W.left,$t=W.top);let Mt=n.select=he({show:!0,over:!0,left:0,width:0,top:0,height:0},i.select),un=Mt.show?ys(um,Mt.over?H:P):null;function Kn(a,c){if(Mt.show){for(let d in a)Mt[d]=a[d],d in fr&&zt(un,d,a[d]);c!==!1&&Zt("setSelect")}}n.setSelect=Kn;function _s(a){if(k[a].show)Ot&&ma(de[a],di);else if(Ot&&fs(de[a],di),Jt){let d=Tn?qe[0]:qe[a];Js(d,-10,-10,ut,nt)}}function Xt(a,c,d){Sn(a,{min:c,max:d})}function we(a,c,d,p){c.focus!=null&&Cn(a),c.show!=null&&k.forEach((g,w)=>{w>0&&(a==w||a==null)&&(g.show=c.show,_s(w),l==2?(Xt(g.facets[0].scale,null,null),Xt(g.facets[1].scale,null,null)):Xt(g.scale,null,null),ue())}),d!==!1&&Zt("setSeries",a,c),p&&qs("setSeries",n,a,c)}n.setSeries=we;function Qe(a,c){he(Z[a],c)}function ur(a,c){a.fill=Et(a.fill||null),a.dir=Tt(a.dir,-1),c=c??Z.length,Z.splice(c,0,a)}function ml(a){a==null?Z.length=0:Z.splice(a,1)}n.addBand=ur,n.setBand=Qe,n.delBand=ml;function gl(a,c){k[a].alpha=c,Jt&&qe[a]&&(qe[a].style.opacity=c),Ot&&de[a]&&(de[a].style.opacity=c)}let ls,ge,He,Os={focus:!0};function Cn(a){if(a!=He){let c=a==null,d=As.alpha!=1;k.forEach((p,g)=>{if(l==1||g>0){let w=c||g==0||g==a;p._focus=c?null:w,d&&gl(g,w?1:As.alpha)}}),He=a,d&&ue()}}Ot&&wn&&Ke(nu,L,a=>{W._lock||(yn(a),He!=null&&we(null,Os,!0,te.setSeries))});function Je(a,c,d){let p=N[c];d&&(a=a/St-(p.ori==1?It:lt));let g=ut;p.ori==1&&(g=nt,a=g-a),p.dir==-1&&(a=g-a);let w=p._min,O=p._max,D=a/g,M=w+(O-w)*D,R=p.distr;return R==3?ji(10,M):R==4?Dm(M,p.asinh):R==100?p.bwd(M):M}function Kr(a,c){let d=Je(a,$,c);return ks(d,e[0],ie,Yt)}n.valToIdx=a=>ks(a,e[0]),n.posToIdx=Kr,n.posToVal=Je,n.valToPos=(a,c,d)=>N[c].ori==0?f(a,N[c],d?Ye:ut,d?ns:0):h(a,N[c],d?ne:nt,d?pe:0),n.setCursor=(a,c,d)=>{Nt=a.left,$t=a.top,Ys(null,c,d)};function fn(a,c){zt(un,Fi,Mt.left=a),zt(un,Mr,Mt.width=c)}function Li(a,c){zt(un,xr,Mt.top=a),zt(un,Pr,Mt.height=c)}let Ln=F.ori==0?fn:Li,Fe=F.ori==1?fn:Li;function _l(){if(Ot&&mt.live)for(let a=l==2?1:0;a<k.length;a++){if(a==0&&ze)continue;let c=mt.values[a],d=0;for(let p in c)Ct[a][d++].firstChild.nodeValue=c[p]}}function vs(a,c){if(a!=null&&(a.idxs?a.idxs.forEach((d,p)=>{ot[p]=d}):Mm(a.idx)||ot.fill(a.idx),mt.idx=ot[0]),Ot&&mt.live){for(let d=0;d<k.length;d++)(d>0||l==1&&!ze)&&Oi(d,ot[d]);_l()}Ge=!1,c!==!1&&Zt("setLegend")}n.setLegend=vs;function Oi(a,c){let d=k[a],p=a==0&&X==2?rs:e[a],g;ze?g=d.values(n,a,c)??ce:(g=d.value(n,c==null?null:p[c],a,c),g=g==null?ce:{_:g}),mt.values[a]=g}function Ys(a,c,d){Ci=Nt,cr=$t,[Nt,$t]=W.move(n,Nt,$t),W.left=Nt,W.top=$t,Jt&&(os&&Js(os,ve(Nt),0,ut,nt),ln&&Js(ln,0,ve($t),ut,nt));let p,g=ie>Yt;ls=Vt,ge=null;let w=F.ori==0?ut:nt,O=F.ori==1?ut:nt;if(Nt<0||me==0||g){p=W.idx=null;for(let D=0;D<k.length;D++){let M=qe[D];M!=null&&Js(M,-10,-10,ut,nt)}wn&&we(null,Os,!0,a==null&&te.setSeries),mt.live&&(ot.fill(p),Ge=!0)}else{let D,M,R;l==1&&(D=F.ori==0?Nt:$t,M=Je(D,$),p=W.idx=ks(M,e[0],ie,Yt),R=st(e[0][p],F,w,0));let V=-10,B=-10,tt=0,Dt=0,vt=!0,pt="",rt="";for(let j=l==2?1:0;j<k.length;j++){let At=k[j],Gt=ot[j],jt=Gt==null?null:l==1?e[j][Gt]:e[j][1][Gt],Rt=W.dataIdx(n,j,p,M),ee=Rt==null?null:l==1?e[j][Rt]:e[j][1][Rt];Ge=Ge||ee!=jt||Rt!=Gt,ot[j]=Rt;let Oe=Rt==p?R:st(l==1?e[0][Rt]:e[j][0][Rt],F,w,0);if(j>0&&At.show){let ke=ee==null?-10:G(ee,l==1?N[At.scale]:N[At.facets[1].scale],O,0);if(wn&&ee!=null){let Ie=F.ori==1?Nt:$t,as=be(As.dist(n,j,Rt,ke,Ie));if(as<ls){let cs=As.bias;if(cs!=0){let Te=Je(Ie,At.scale),bs=ee>=0?1:-1,De=Te>=0?1:-1;De==bs&&(De==1?cs==1?ee>=Te:ee<=Te:cs==1?ee<=Te:ee>=Te)&&(ls=as,ge=j)}else ls=as,ge=j}}if(Ge||Tn){let Ie,as;F.ori==0?(Ie=Oe,as=ke):(Ie=ke,as=Oe);let cs,Te,bs,De,xe,Be,Dn=!0,Qs=Wt.bbox;if(Qs!=null){Dn=!1;let Xe=Qs(n,j);bs=Xe.left,De=Xe.top,cs=Xe.width,Te=Xe.height}else bs=Ie,De=as,cs=Te=Wt.size(n,j);if(Be=Wt.fill(n,j),xe=Wt.stroke(n,j),Tn)j==ge&&ls<=As.prox&&(V=bs,B=De,tt=cs,Dt=Te,vt=Dn,pt=Be,rt=xe);else{let Xe=qe[j];Xe!=null&&(ms[j]=bs,is[j]=De,uu(Xe,cs,Te,Dn),au(Xe,Be,xe),Js(Xe,ws(bs),ws(De),ut,nt))}}}}if(Tn){let j=As.prox,At=He==null?ls<=j:ls>j||ge!=He;if(Ge||At){let Gt=qe[0];ms[0]=V,is[0]=B,uu(Gt,tt,Dt,vt),au(Gt,pt,rt),Js(Gt,ws(V),ws(B),ut,nt)}}}if(Mt.show&&Ls)if(a!=null){let[D,M]=te.scales,[R,V]=te.match,[B,tt]=a.cursor.sync.scales,Dt=a.cursor.drag;if(re=Dt._x,oe=Dt._y,re||oe){let{left:vt,top:pt,width:rt,height:j}=a.select,At=a.scales[B].ori,Gt=a.posToVal,jt,Rt,ee,Oe,ke,Ie=D!=null&&R(D,B),as=M!=null&&V(M,tt);Ie&&re?(At==0?(jt=vt,Rt=rt):(jt=pt,Rt=j),ee=N[D],Oe=st(Gt(jt,B),ee,w,0),ke=st(Gt(jt+Rt,B),ee,w,0),Ln(Is(Oe,ke),be(ke-Oe))):Ln(0,w),as&&oe?(At==1?(jt=vt,Rt=rt):(jt=pt,Rt=j),ee=N[M],Oe=G(Gt(jt,tt),ee,O,0),ke=G(Gt(jt+Rt,tt),ee,O,0),Fe(Is(Oe,ke),be(ke-Oe))):Fe(0,O)}else xi()}else{let D=be(Ci-Si),M=be(cr-an);if(F.ori==1){let tt=D;D=M,M=tt}re=fe.x&&D>=fe.dist,oe=fe.y&&M>=fe.dist;let R=fe.uni;R!=null?re&&oe&&(re=D>=R,oe=M>=R,!re&&!oe&&(M>D?oe=!0:re=!0)):fe.x&&fe.y&&(re||oe)&&(re=oe=!0);let V,B;re&&(F.ori==0?(V=cn,B=Nt):(V=Ks,B=$t),Ln(Is(V,B),be(B-V)),oe||Fe(0,O)),oe&&(F.ori==1?(V=cn,B=Nt):(V=Ks,B=$t),Fe(Is(V,B),be(B-V)),re||Ln(0,w)),!re&&!oe&&(Ln(0,0),Fe(0,0))}if(fe._x=re,fe._y=oe,a==null){if(d){if(Mi!=null){let[D,M]=te.scales;te.values[0]=D!=null?Je(F.ori==0?Nt:$t,D):null,te.values[1]=M!=null?Je(F.ori==1?Nt:$t,M):null}qs(tu,n,Nt,$t,ut,nt,p)}if(wn){let D=d&&te.setSeries,M=As.prox;He==null?ls<=M&&we(ge,Os,!0,D):ls>M?we(null,Os,!0,D):ge!=He&&we(ge,Os,!0,D)}}Ge&&(mt.idx=p,vs()),c!==!1&&Zt("setCursor")}let Gs=null;Object.defineProperty(n,"rect",{get(){return Gs==null&&Ds(!1),Gs}});function Ds(a=!1){a?Gs=null:(Gs=H.getBoundingClientRect(),Zt("syncRect",Gs))}function Di(a,c,d,p,g,w,O){W._lock||Ls&&a!=null&&a.movementX==0&&a.movementY==0||(hn(a,c,d,p,g,w,O,!1,a!=null),a!=null?Ys(null,!0,!0):Ys(c,!0,!1))}function hn(a,c,d,p,g,w,O,D,M){if(Gs==null&&Ds(!1),yn(a),a!=null)d=a.clientX-Gs.left,p=a.clientY-Gs.top;else{if(d<0||p<0){Nt=-10,$t=-10;return}let[R,V]=te.scales,B=c.cursor.sync,[tt,Dt]=B.values,[vt,pt]=B.scales,[rt,j]=te.match,At=c.axes[0].side%2==1,Gt=F.ori==0?ut:nt,jt=F.ori==1?ut:nt,Rt=At?w:g,ee=At?g:w,Oe=At?p:d,ke=At?d:p;if(vt!=null?d=rt(R,vt)?_(tt,N[R],Gt,0):-10:d=Gt*(Oe/Rt),pt!=null?p=j(V,pt)?_(Dt,N[V],jt,0):-10:p=jt*(ke/ee),F.ori==1){let Ie=d;d=p,p=Ie}}M&&((d<=1||d>=ut-1)&&(d=fi(d,ut)),(p<=1||p>=nt-1)&&(p=fi(p,nt))),D?(Si=d,an=p,[cn,Ks]=W.move(n,d,p)):(Nt=d,$t=p)}let fr={width:0,height:0,left:0,top:0};function xi(){Kn(fr,!1)}let hr,dr,Yr,Gr;function qr(a,c,d,p,g,w,O){Ls=!0,re=oe=fe._x=fe._y=!1,hn(a,c,d,p,g,w,O,!0,!1),a!=null&&(Ke(aa,da,pr,!1),qs(eu,n,cn,Ks,ut,nt,null));let{left:D,top:M,width:R,height:V}=Mt;hr=D,dr=M,Yr=R,Gr=V}function pr(a,c,d,p,g,w,O){Ls=fe._x=fe._y=!1,hn(a,c,d,p,g,w,O,!1,!0);let{left:D,top:M,width:R,height:V}=Mt,B=R>0||V>0,tt=hr!=D||dr!=M||Yr!=R||Gr!=V;if(B&&tt&&Kn(Mt),fe.setScale&&B&&tt){let Dt=D,vt=R,pt=M,rt=V;if(F.ori==1&&(Dt=M,vt=V,pt=D,rt=R),re&&Xt($,Je(Dt,$),Je(Dt+vt,$)),oe)for(let j in N){let At=N[j];j!=$&&At.from==null&&At.min!=Vt&&Xt(j,Je(pt+rt,j),Je(pt,j))}xi()}else W.lock&&(W._lock=!W._lock,Ys(null,!0,!1));a!=null&&(Vs(aa,da),qs(aa,n,Nt,$t,ut,nt,null))}function On(a,c,d,p,g,w,O){if(W._lock)return;yn(a);let D=Ls;if(Ls){let M=!0,R=!0,V=10,B,tt;F.ori==0?(B=re,tt=oe):(B=oe,tt=re),B&&tt&&(M=Nt<=V||Nt>=ut-V,R=$t<=V||$t>=nt-V),B&&M&&(Nt=Nt<cn?0:ut),tt&&R&&($t=$t<Ks?0:nt),Ys(null,!0,!0),Ls=!1}Nt=-10,$t=-10,Ys(null,!0,!0),D&&(Ls=D)}function Qr(a,c,d,p,g,w,O){W._lock||(yn(a),Zi(),xi(),a!=null&&qs(iu,n,Nt,$t,ut,nt,null))}function Jr(){Q.forEach(Gg),Ji(n.width,n.height,!0)}pi($o,Wi,Jr);let dn={};dn.mousedown=qr,dn.mousemove=Di,dn.mouseup=pr,dn.dblclick=Qr,dn.setSeries=(a,c,d,p)=>{let g=te.match[2];d=g(n,c,d),d!=-1&&we(d,p,!0,!1)},Jt&&(Ke(eu,H,qr),Ke(tu,H,Di),Ke(su,H,a=>{yn(a),Ds(!1)}),Ke(nu,H,On),Ke(iu,H,Qr),ya.add(n),n.syncRect=Ds);let Ni=n.hooks=i.hooks||{};function Zt(a,c,d){ar?gs.push([a,c,d]):a in Ni&&Ni[a].forEach(p=>{p.call(null,n,c,d)})}(i.plugins||[]).forEach(a=>{for(let c in a.hooks)Ni[c]=(Ni[c]||[]).concat(a.hooks[c])});let Yn=(a,c,d)=>d,te=he({key:null,setSeries:!1,filters:{pub:mu,sub:mu},scales:[$,k[1]?k[1].scale:null],match:[gu,gu,Yn],values:[null,null]},W.sync);te.match.length==2&&te.match.push(Yn),W.sync=te;let Mi=te.key,mr=hf(Mi);function qs(a,c,d,p,g,w,O){te.filters.pub(a,c,d,p,g,w,O)&&mr.pub(a,c,d,p,g,w,O)}mr.sub(n);function vl(a,c,d,p,g,w,O){te.filters.sub(a,c,d,p,g,w,O)&&dn[a](null,c,d,p,g,w,O)}n.pub=vl;function Xr(){mr.unsub(n),ya.delete(n),Xs.clear(),ga($o,Wi,Jr),v.remove(),L?.remove(),Zt("destroy")}n.destroy=Xr;function Gn(){Zt("init",i,e),Br(e||i.data,!1),U[$]?Sn($,U[$]):Zi(),bi=Mt.show&&(Mt.width>0||Mt.height>0),tn=Ge=!0,Ji(i.width,i.height)}return k.forEach(Wn),Q.forEach(ol),s?s instanceof HTMLElement?(s.appendChild(v),Gn()):s(n,Gn):Gn(),n}Qt.assign=he;Qt.fmtNum=Oa;Qt.rangeNum=Ro;Qt.rangeLog=Fo;Qt.rangeAsinh=Ca;Qt.orient=gi;Qt.pxRatio=St;Qt.join=Hm;Qt.fmtDate=xa,Qt.tzDate=Qm;Qt.sync=hf;{Qt.addGap=Mg,Qt.clipGaps=jo;let i=Qt.paths={points:vf};i.linear=Ef,i.stepped=Ig,i.bars=$g,i.spline=Vg}var{button:qg,div:Af,pre:Dv,select:Sf,option:vn}=qt.tags,Yo=class i{freq;data;uplot_index;constructor(e,s){this.freq=e,this.data=new Array,s&&this.data.push(s)}addData(e){this.data.push(e)}static fromJSON(e){if(e.freq){var s=new i(e.freq);if(e.data)for(let n=0;n<e.data.length;n++)s.addData(e.data[n]);return s}return null}expire(e){for(;this.data.length>0&&this.data[0].t<e;)this.data.shift()}expireOlderThen(e){let s=Date.now()-e*1e3;this.expire(s)}};function Lf(i){let e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.setAttribute("width","16"),e.setAttribute("height","16"),e.setAttribute("viewBox","0 0 16 16"),e.classList.add("bi"),e.classList.add("bi-pause");let s=document.createElementNS("http://www.w3.org/2000/svg","path");return s.setAttribute("d",i),e.appendChild(s),e}function Cf(){return Lf("M6 3.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5m4 0a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-1 0V4a.5.5 0 0 1 .5-.5")}function Ra(){return Lf("M10.804 8 5 4.633v6.734zm.792-.696a.802.802 0 0 1 0 1.392l-6.363 3.692C4.713 12.69 4 12.345 4 11.692V4.308c0-.653.713-.998 1.233-.696z")}var Fn=class extends Re{root;uplot;dataq;max_seconds;show_raw_rssi;max_storage_seconds;date_offset;cfg;update_uplot;players;getSeriesColor(e){switch(e%8){case 0:return"#03fce3";case 1:return"#fcba03";case 2:return"#fc037b";case 3:return"#fc3103";case 4:return"#00ff00";case 5:return"#0000ff";case 6:return"#ff00ff";case 7:return"#124511";default:return"red"}}updateGraph(e){if(this.uplot)return this.uplot.setData(e),this.uplot.setSize({width:this.getDom().offsetWidth,height:600}),this.uplot}getGraph(){if(this.uplot)return this.uplot;let e={title:"",width:1048,height:600,scales:{x:{time:!0},y:{auto:!1,range:[0,1300]}},series:[{label:"time:"},{stroke:"#70dba4",label:"peak"},{stroke:"#dbc270",label:"enter"},{stroke:"#3af51d",label:"leave"}],axes:[{label:"X Axis Label",labelSize:20},{space:50,side:1,label:"RSSI",labelGap:8,labelSize:28,stroke:"grey"}]};return this.uplot=new Qt(e,[[0,1,3],[1,1,1],[1,1,1],[1,1,1]],this.getDom()),this.uplot}async sendRssiUpdate(e){this.update_uplot=e,await fetch("/api/v1/rssi/update",{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:`{"enable": ${e?"1":"0"}}`})}async getRssiUpdate(e){let n=await fetch("/api/v1/rssi/update",{method:"GET"});if(!n.ok)Se.showError({msg:`Failed to get rssi update ${n.status}`});else{let l=await n.json();e(!!l.enable)}}getDom(){if(!this.root){let e=qg({class:"btn btn-secondary",id:"btn_signal_pause",type:"button",onclick:()=>{this.update_uplot=!this.update_uplot,this.update_uplot?(this.sendRssiUpdate(!0),this.onNextValues(),je("btn_signal_pause").replaceChildren(Cf())):(this.sendRssiUpdate(!1),je("btn_signal_pause").replaceChildren(Ra()))}},Ra());this.root=Af(Af({class:"input-group flex-nowrap"},e,Sf({class:"form-select",id:"select_signal_duration",onchange:()=>{var s=je("select_signal_duration");this.max_seconds=Number(s.value),this.onNextValues()}},vn({value:30},"30s"),vn({value:60,selected:!0},"60s"),vn({value:60*2},"2min"),vn({value:60*3},"3min"),vn({value:60*5},"5min"),vn({value:60*10},"10min"),vn({value:60*30},"30min")),Sf({class:"form-select",id:"select_signal_raw",onchange:()=>{var s=je("select_signal_raw");this.show_raw_rssi=!!Number(s.value),this.onNextValues()}},vn({value:0,selected:!0},"filtered RSSI"),vn({value:1},"raw RSSI")))),this.getRssiUpdate(s=>{console.debug("Enable: "+s),this.update_uplot=s,e.replaceChildren(s?Cf():Ra())})}return this.root}needSeriesUpdate(){return this.uplot?this.uplot.series.length!=this.dataq.length+1+3:!1}updateSeries(){if(this.uplot){for(let e=4;e<this.uplot.series.length;e++)this.uplot.delSeries(e);this.dataq.forEach((e,s)=>{e.uplot_index=s+4,this.uplot.addSeries({label:`freq:${e.freq}`,stroke:this.getSeriesColor(s)},e.uplot_index)})}}data2uplot(e,s){var n=0,l=0,f=0;this.cfg&&(n=this.cfg.rssi[0].peak,l=this.cfg.rssi[0].offset_enter/100*n,f=this.cfg.rssi[0].offset_leave/100*n);var h=Array.from([[[e,s],[n,n]],[[e,s],[l,l]],[[e,s],[f,f]]]),_=0,b=Number.MAX_VALUE;this.dataq.forEach(v=>{let S=new Array,y=new Array;v.data.forEach(A=>{let P=A.t/1e3;P>=e&&P<=s&&(_=_<P?P:_,b=b>P?P:b,S.push(P),y.push(this.show_raw_rssi?A.r:A.s))}),h.push(Array.from([S,y]))});for(let v=0;v<3;v++)h[v][0][0]=b,h[v][0][1]=_;return h}onNextValues(){if(!this.uplot)return;this.needSeriesUpdate()&&this.updateSeries();let e=Date.now()/1e3,s=this.data2uplot(e-this.max_seconds,e);this.updateGraph(Qt.join(s))}onRssiUpdate(e){for(let n of e.data){this.date_offset||(this.date_offset=Date.now()-n.t);var s=this.dataq.find(l=>l.freq==e.freq);s?s.addData(n):(s=new Yo(e.freq,n),this.dataq.push(s)),s.expire(this.max_storage_seconds)}this.saveStorage(),this.update_uplot&&this.onNextValues()}saveStorage(){try{localStorage.setItem("SignalStorage",JSON.stringify(this.dataq))}catch{if(this.max_storage_seconds>30){console.info(`Storage to small, change history to max ${this.max_storage_seconds}s`),this.max_storage_seconds-=5;for(let s of this.dataq)s.expireOlderThen(this.max_storage_seconds)}}}loadStorage(){this.dataq=new Array;try{var e=localStorage.getItem("SignalStorage");if(e){let s=JSON.parse(e);for(let n=0;n<s.length;n++){let l=Yo.fromJSON(s[n]);l&&this.dataq.push(l)}}}catch{this.dataq=new Array}}onPlayersUpdate(e){this.players=e}constructor(){super("RSSI"),this.max_storage_seconds=60*60,this.max_seconds=100,this.update_uplot=!0,this.show_raw_rssi=!1,this.getDom(),this.getGraph(),this.loadStorage(),document.addEventListener("SFT_RSSI",e=>{e.detail&&this.onRssiUpdate(e.detail)}),document.addEventListener("SFT_CONFIG_UPDATE",e=>{e.detail&&(this.cfg=e.detail)}),document.addEventListener("SFT_PLAYERS_UPDATE",e=>{e.detail&&this.onPlayersUpdate(e.detail)})}};var Go=class extends In{constructor(e){super(e),this.pages.push(new No),this.pages.push(new xo),this.pages.push(new Rn),this.pages.push(new Fn)}};var{h1:Yv,h3:Gv,label:qv,form:Qv,select:Jv,input:Qg,img:Xv,fieldset:Zv,option:tb,button:Of,div:ps,h5:eb,pre:sb,ul:nb,li:ib,span:Qi,a:Jg,table:rb,thead:ob,tbody:lb,th:ab,tr:cb,td:ub}=qt.tags,qo=class extends Re{root;_uplot_div;_legend_div;_nodes_div;_buttons_div;uplot;cfg;plotGraph(){let e=Qt.paths.bars({size:[.8,100,10]}),s={width:800,height:400,title:"Overall",scales:{x:{time:!1},y:{time:!1,range:[0]}},axes:[{show:!1},{show:!1,stroke:"#c7d0d9"}],legend:{show:!1},series:[{show:!1},{label:"",stroke:"#000001",fill:"#000000A1",paths:Qt.paths.bars({size:[.8,100]})}]};return this.uplot||(this.uplot=new Qt(s,[[0,1,3][0]],this.uplotDiv)),this.uplot}get uplotDiv(){return this._uplot_div||(this._uplot_div=ps()),this._uplot_div}get legendDiv(){return this._legend_div||(this._legend_div=ps()),this._legend_div}get nodesDiv(){return this._nodes_div||(this._nodes_div=ps()),this._nodes_div}updateButtonsDiv(e){var s=ps();e>0?s=ps({class:"mb-3 input-group"},ps({class:"input-group-prepend"},Of({class:"btn btn-outline-danger",type:"button",onclick:()=>{this.stopCtf()}},"Cancel CTF Round")),Qi({class:"input-group-text"},kn(e))):s=ps({class:"mb-3 input-group"},ps({class:"input-group-prepend"},Of({class:"btn btn-outline-success",type:"button",onclick:()=>{var n=je("input_ctf_duration").value;this.startCtf(Number(n))}},"CTF Start")),Qi({class:"input-group-text"},"with"),Qg({class:"form-control",id:"input_ctf_duration",value:"10"}),Qi({class:"input-group-text"},"minutes duration")),this.buttonsDiv.replaceChildren(s)}async stopCtf(){let e="/api/v1/ctf/stop";try{let s=await fetch(e,{method:"GET"});s.ok||Se.showError({msg:`Failed to save config ${s.status}`})}catch(s){console.error(s)}}async startCtf(e){let s="/api/v1/ctf/start";try{let n={duration_ms:Number(e)*60*1e3};console.debug(n);let l=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json; charset=utf-8"},body:JSON.stringify(n)});l.ok||Se.showError({msg:`Failed to save config ${l.status}`})}catch(n){console.error(n)}}get buttonsDiv(){return this._buttons_div||(this._buttons_div=ps()),this._buttons_div}getDom(){return this.root||(this.root=ps(this.buttonsDiv,this.nodesDiv,this.uplotDiv,this.legendDiv)),this.root}colorByTeam(e){for(let s=0;s<this.cfg.rssi.length;s++){let n=this.cfg.rssi[s];if(n.name==e)return bo(n.led_color)}return"#eeeeee"}onCtfUpdate(e){console.debug(e);let s=new Map;for(let S of e.team_names)s.set(S,0);var n=0;for(let S of e.nodes)for(let y=0;y<S.captured_ms.length;y++){let A=e.team_names[y],P=S.captured_ms[y],H=s.get(A)+P;H>n&&(n=H),s.set(A,H)}for(;this.uplot.series.length>1;)this.uplot.delSeries(1);var l=0;let f=[];f[0]=[];for(let S of s.keys()){f[0][l]=l+1;for(let A=0;A<l;A++)f[A+1][l]=null;f[l+1]=[];for(let A=0;A<l;A++)f[l+1][A]=null;f[l+1][l]=s.get(S);let y=this.colorByTeam(S);this.uplot.addSeries({label:S,stroke:y,fill:y+"1A",paths:Qt.paths.bars({size:[.8,100]})}),l++}f[0].unshift(0),f[0].push(l+1);for(let S=1;S<f.length;S++)f[S].unshift(null),f[S].push(null);console.debug(f),this.uplot.setSize({width:this.getDom().offsetWidth,height:400}),this.uplot.setScale("y",{min:0,max:n}),this.uplot.setData(f);var b=ps();for(let[S,y]of s){var h=this.colorByTeam(S),_=`background-color: ${h}A1`;b.append(ps({class:"card-text border rounded ",style:"margin: 3px; "},Qi({style:`${_}; font-weight: bold; border-right: 1px solid grey; margin: 0px 0px; padding:0 5px; min-width: 80px; display: inline-block; text-shadow: 1px 1px 1px black;`},S),Qi({style:"padding: 0px 5px"},kn(y))))}this.legendDiv.replaceChildren(b);var b=ps({style:"margin:10px; display: block;"});for(let S of e.nodes){if(h="#eee",S.current>=0&&S.current<e.team_names.length){var v=e.team_names[S.current];h=this.colorByTeam(v)}b.append(Qi({class:"border rounded",style:`font-weight: bold; margin: 10px; padding: 10px; text-shadow: 1px 1px 1px black; background-color: ${h}A1`},Jg({href:"http://"+S.ipv4,style:"color: #fff; font-weight: bold; text-decoration: none; text-shadow: 1px 1px 1px black;",target:"_blank"},S.name)))}this.nodesDiv.replaceChildren(b),this.updateButtonsDiv(e.time_left_ms)}constructor(){super("CTF"),this.getDom(),this.plotGraph(),document.addEventListener("SFT_CTF_UPDATE",e=>{e.detail&&this.onCtfUpdate(e.detail)}),document.addEventListener("SFT_CONFIG_UPDATE",e=>{e.detail&&(this.cfg=e.detail)})}};var Qo=class extends In{constructor(e){super(e),this.pages.push(new qo),this.pages.push(new Rn),this.pages.push(new Fn)}};var Ab=Il(go()),{button:Sb,div:_i,pre:Df,h3:xf}=qt.tags,Jo=class extends Re{root;_cfg;_rssi;_equalizer;get cfg(){return this._cfg||(this._cfg=_i("CONFIG:")),this._cfg}get rssi(){return this._rssi?this._rssi:this._rssi=_i("RSSI")}get equalizer(){if(!this._equalizer){let e={5658:1,5695:2,5732:3,5769:4,5806:5,5843:6,5880:7,5917:8};this._equalizer=_i({id:"equalizer",style:`
                    display: flex;
                    gap: 10px;
                    height: 200px;
                    background: black;
                    align-items: flex-end;
                    justify-content: center;
                    padding: 10px;
                `}),Object.entries(e).forEach(([s,n])=>{let l=_i({id:`bar-container-${n}`,style:`
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: flex-end;
                        width: 50px;
                        height: 150px;
                        margin: 0 5px;
                    `}),f=_i({id:`bar-${n}`,style:`
                        width: 100%;
                        height: 0%; /* Start with 0 height */
                        background: white;
                        display: block;
                    `,title:`Channel: ${n}, Frequency: ${s} MHz`}),h=_i({style:`
                        margin-top: 5px;
                        color: white;
                        font-size: 12px;
                        text-align: center;
                    `},`${n}`);l.appendChild(f),l.appendChild(h),this._equalizer.appendChild(l)})}return this._equalizer}getDom(){return this.root||(this.root=_i(this.cfg,this.rssi,this.equalizer)),this.root}constructor(){super("Spectrum"),this.getDom(),document.addEventListener("SFT_RSSI",e=>{let s=e.detail?.freq,n=e.detail?.data[0]?.s;s!==void 0&&n!==void 0&&this.renderEqualizer(s,n),this.rssi.replaceChildren(xf("Last RSSI message:"+Date.now()),Df(JSON.stringify(e.detail,void 0,2)))}),document.addEventListener("SFT_CONFIG_UPDATE",e=>{this.cfg.replaceChildren(xf("Config"),Df(e.detail.toJsonString(2)))})}renderEqualizer(e,s){let l={5658:1,5695:2,5732:3,5769:4,5806:5,5843:6,5880:7,5917:8}[e];if(!l){console.warn(`Frequency ${e} is not mapped to a channel.`);return}let f=document.getElementById(`bar-${l}`);if(!f){console.warn(`Bar for channel ${l} not found.`);return}let _=Math.min(s/2e3*100,100);f.style.height=`${_}%`,f.title=`Channel: ${l}, Frequency: ${e} MHz, RSSI: ${s}`}};var Xo=class extends In{constructor(e){super(e),this.pages.push(new Rn),this.pages.push(new Fn),this.pages.push(new Jo)}};var{button:jb,div:Zo,pre:Va,h3:Ha}=qt.tags,Vr=class extends Re{root;_cfg;_rssi;_ctf;get cfg(){return this._cfg||(this._cfg=Zo("CONFIG:")),this._cfg}get rssi(){return this._rssi?this._rssi:this._rssi=Zo("RSSI")}get ctf(){return this._ctf?this._ctf:this._ctf=Zo("ctf")}getDom(){return this.root||(this.root=Zo(this.cfg,this.rssi)),this.root}constructor(){super("DEBUG"),this.getDom(),document.addEventListener("SFT_RSSI",e=>{this.rssi.replaceChildren(Ha("Last RSSI message:"+Date.now()),Va(JSON.stringify(e.detail,void 0,2)))}),document.addEventListener("SFT_CONFIG_UPDATE",e=>{this.cfg.replaceChildren(Ha("Config"),Va(e.detail.toJsonString(2)))}),document.addEventListener("SFT_CTF_UPDATE",e=>{this.ctf.replaceChildren(Ha("Last CTF message:"+Date.now()),Va(e.detail.toJsonString(2)))})}},Nf=new Go("Race");Nf.addPage(new Vr);var Mf=new Qo("CTF");Mf.addPage(new Vr);var Pf=new Xo("Spectrum");Pf.addPage(new Vr);var tl=new Eo;tl.addMode(0,Nf);tl.addMode(1,Mf);tl.addMode(2,Pf);qt.add(document.body,tl.getDom());var Ub=new Se;Pn.instance().sync_time(null);setTimeout(()=>{console.debug("TimeSync offset: "+Pn.getOffset())},2e3);})();
/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
//# sourceMappingURL=app.js.map
